(function() { function aa(a){return function(){return this[a]}}function h(a){return function(){return a}}var l,ba=ba||{},m=this;function n(a){return void 0!==a}function ca(a){a=a.split(".");for(var b=m,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function q(){}function da(a){a.X=function(){return a.rb?a.rb:a.rb=new a}}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function r(a){return"array"==ea(a)}function fa(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function s(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==ea(a)}function t(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}
function la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function u(a,b,c){u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return u.apply(null,arguments)}
function w(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var y=Date.now||function(){return+new Date};
function ma(a){if(m.execScript)m.execScript(a,"JavaScript");else if(m.eval)if(null==na&&(m.eval("var _et_ = 1;"),"undefined"!=typeof m._et_?(delete m._et_,na=!0):na=!1),na)m.eval(a);else{var b=m.document,c=b.createElement("script");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);b.body.removeChild(c)}else throw Error("goog.globalEval not available");}var na=null;
function z(a,b){function c(){}c.prototype=b.prototype;a.w=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Dc=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}}Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return u.apply(null,c)}return u(this,a)};function A(a){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}z(A,Error);A.prototype.name="CustomError";var oa;function pa(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}var qa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ra(a){return encodeURIComponent(String(a))}function sa(a){return decodeURIComponent(a.replace(/\+/g," "))}
function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(va,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(wa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(xa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(za,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Aa,"&#0;"));return a}var va=/&/g,wa=/</g,xa=/>/g,ya=/"/g,za=/'/g,Aa=/\x00/g,ua=/[\x00&<>"']/;function Ba(a){return Array.prototype.join.call(arguments,"")}
function Ca(a,b){for(var c=0,d=qa(String(a)).split("."),e=qa(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var k=d[g]||"",p=e[g]||"",x=RegExp("(\\d*)(\\D*)","g"),v=RegExp("(\\d*)(\\D*)","g");do{var B=x.exec(k)||["","",""],D=v.exec(p)||["","",""];if(0==B[0].length&&0==D[0].length)break;c=Da(0==B[1].length?0:parseInt(B[1],10),0==D[1].length?0:parseInt(D[1],10))||Da(0==B[2].length,0==D[2].length)||Da(B[2],D[2])}while(0==c)}return c}function Da(a,b){return a<b?-1:a>b?1:0}
var Ea=2147483648*Math.random()|0;var C=Array.prototype,E=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(s(a))return s(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Fa=C.forEach?function(a,b,c){C.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=s(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Ga(a,b){for(var c=s(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}
var Ha=C.map?function(a,b,c){return C.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=s(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ia=C.some?function(a,b,c){return C.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=s(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
function Ja(a){var b;t:{b=Ka;for(var c=a.length,d=s(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break t}b=-1}return 0>b?null:s(a)?a.charAt(b):a[b]}function La(a,b){var c=E(a,b),d;(d=0<=c)&&C.splice.call(a,c,1);return d}function Ma(a){return C.concat.apply(C,arguments)}function Na(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Oa(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(r(d)||(e=fa(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(e)for(var f=a.length,g=d.length,k=0;k<g;k++)a[f+k]=d[k];else a.push(d)}}function Pa(a,b){return a===b};function Qa(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Ra(a){return eval("("+a+")")}function Sa(a){var b=[];Ta(new Ua,a,b);return b.join("")}function Ua(){}
function Ta(a,b,c){switch(typeof b){case "string":Va(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(r(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),Ta(a,b[f],c),e=",";c.push("]");break}c.push("{");d="";for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f=b[e],"function"!=typeof f&&(c.push(d),Va(e,c),c.push(":"),Ta(a,f,c),d=","));c.push("}");
break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Wa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Xa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function Va(a,b){b.push('"',a.replace(Xa,function(a){if(a in Wa)return Wa[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Wa[a]=e+b.toString(16)}),'"')};function Ya(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Za(a){var b=$a,c={},d;for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c}function ab(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function bb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function cb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return c}function db(a){for(var b in a)return!1;return!0}function eb(a){for(var b in a)delete a[b]}function fb(a){var b={},c;for(c in a)b[c]=a[c];return b}
function gb(a){var b=ea(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=gb(a[c]);return b}return a}var hb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ib(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<hb.length;f++)c=hb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function jb(a){var b=arguments.length;if(1==b&&r(arguments[0]))return jb.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c}function kb(a){var b=arguments.length;if(1==b&&r(arguments[0]))return kb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function lb(a,b){this.g=a;this.d=b}function mb(){}function nb(a,b,c,d){a.g={};b||(b=[]);a.v=void 0;a.j=-1;a.O=b;t:{if(a.O.length){b=a.O.length-1;var e=a.O[b];if(e&&"object"==typeof e&&"number"!=typeof e.length){a.k=b-a.j;a.d=e;break t}}-1<c?(a.k=c,a.d=a.O[c+a.j]={}):a.k=Number.MAX_VALUE}if(d)for(c=0;c<d.length;c++)b=d[c],b<a.k?(b+=a.j,a.O[b]=a.O[b]||[]):a.d[b]=a.d[b]||[]}function ob(a,b){return b<a.k?a.O[b+a.j]:a.d[b]}function pb(a,b,c){b<a.k?a.O[b+a.j]=c:a.d[b]=c}mb.prototype.toString=function(){return this.O.toString()};
function qb(a,b){var c=b.g;return b.d?(!a.g[c]&&a.d[c]&&(a.g[c]=new b.d(a.d[c])),a.g[c]):a.d[c]};function rb(a){nb(this,a,1,[])}z(rb,mb);function sb(a){nb(this,a,-1,[])}z(sb,mb);var tb=new lb(1E3,sb);function ub(a){nb(this,a,-1,[1])}z(ub,mb);var vb=new lb(1001,ub);function wb(a){nb(this,a,-1,[2,15,37,38,50,55,56,58])}z(wb,mb);wb.prototype.setTitle=function(a){pb(this,3,a)};function yb(a){nb(this,a,-1,[1])}z(yb,mb);function zb(a){nb(this,a,-1,[])}z(zb,mb);function Ab(a){nb(this,a,-1,[])}z(Ab,mb);function Bb(a){nb(this,a,1,[])}z(Bb,mb);function Cb(a){nb(this,a,-1,[])}z(Cb,mb);var Db=new lb(74701762,Cb);function Eb(a){this.d={};(a=a||m._docs_flag_initialData)&&ib(this.d,a)}da(Eb);Eb.prototype.get=function(a){return this.d[a]};function Fb(a,b){var c=a.get(b);return s(c)?"true"==c||"1"==c:!!c}function Gb(a,b){return Number(a.get(b))}function F(a,b){var c=a.get(b);return null!=c?String(c):""};function Hb(a){return a}function Ib(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};var Jb="StopIteration"in m?m.StopIteration:Error("StopIteration");function Kb(){}Kb.prototype.next=function(){throw Jb;};Kb.prototype.La=function(){return this};function Lb(a,b){this.g={};this.d=[];this.k=this.j=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Lb?(c=a.Y(),d=a.P()):(c=bb(a),d=ab(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}l=Lb.prototype;l.S=aa("j");l.P=function(){Mb(this);for(var a=[],b=0;b<this.d.length;b++)a.push(this.g[this.d[b]]);return a};l.Y=function(){Mb(this);return this.d.concat()};
l.clear=function(){this.g={};this.k=this.j=this.d.length=0};l.remove=function(a){return Nb(this.g,a)?(delete this.g[a],this.j--,this.k++,this.d.length>2*this.j&&Mb(this),!0):!1};function Mb(a){if(a.j!=a.d.length){for(var b=0,c=0;b<a.d.length;){var d=a.d[b];Nb(a.g,d)&&(a.d[c++]=d);b++}a.d.length=c}if(a.j!=a.d.length){for(var e={},c=b=0;b<a.d.length;)d=a.d[b],Nb(e,d)||(a.d[c++]=d,e[d]=1),b++;a.d.length=c}}l.get=function(a,b){return Nb(this.g,a)?this.g[a]:b};
l.set=function(a,b){Nb(this.g,a)||(this.j++,this.d.push(a),this.k++);this.g[a]=b};l.forEach=function(a,b){for(var c=this.Y(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};l.clone=function(){return new Lb(this)};l.La=function(a){Mb(this);var b=0,c=this.d,d=this.g,e=this.k,f=this,g=new Kb;g.next=function(){for(;;){if(e!=f.k)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw Jb;var g=c[b++];return a?g:d[g]}};return g};
function Nb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Ob;t:{var Pb=m.navigator;if(Pb){var Qb=Pb.userAgent;if(Qb){Ob=Qb;break t}}Ob=""}function Rb(a){return-1!=Ob.indexOf(a)};var Sb=Rb("Opera")||Rb("OPR"),G=Rb("Trident")||Rb("MSIE"),Tb=Rb("Gecko")&&-1==Ob.toLowerCase().indexOf("webkit")&&!(Rb("Trident")||Rb("MSIE")),Ub=-1!=Ob.toLowerCase().indexOf("webkit");function Vb(){var a=m.document;return a?a.documentMode:void 0}
var Wb=function(){var a="",b;if(Sb&&m.opera)return a=m.opera.version,ha(a)?a():a;Tb?b=/rv\:([^\);]+)(\)|;)/:G?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Ub&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ob))?a[1]:"");return G&&(b=Vb(),b>parseFloat(a))?String(b):a}(),Xb={};function H(a){return Xb[a]||(Xb[a]=0<=Ca(Wb,a))}var Yb=m.document,Zb=Yb&&G?Vb()||("CSS1Compat"==Yb.compatMode?parseInt(Wb,10):5):void 0;G&&H(8);function $a(a){return null!=a&&(!s(a)||!/^[\s\xa0]*$/.test(null==a?"":String(a)))&&(!r(a)||0!=a.length)&&(!t(a)||!db(a))};function I(a,b,c,d,e,f){this.F=a;this.p=String(b);this.q=c||"user";this.j=!!d;this.o=/^[\s\xa0]*$/.test(null==e?"":String(e))?null:$b(e);this.A=!!f}var ac=new Lb,$b=Hb;I.prototype.clone=function(a){var b=this.d();a&&ib(b,a);a=b.scopeType;return Nb(ac.g,a)?ac.get(a).call(void 0,b):new I(b.name,b.id,b.scopeType,b.me,b.iconUrl,b.requiresKey)};I.prototype.d=function(){var a={};a.iconUrl=this.o;a.scopeType=this.q;a.name=this.F;a.id=this.p;a.me=this.j;a.requiresKey=this.A;return Za(a)};
function bc(a,b){ac.set(a,b)};function cc(a,b,c,d,e,f){I.call(this,a,b,"domain",d,e,f);this.g=c}z(cc,I);cc.prototype.d=function(){var a=cc.w.d.call(this);a.domainName=this.g;return Za(a)};bc("domain",function(a){return new cc(a.name,a.id,a.domainName,a.me,a.iconUrl,a.requiresKey)});new cc("","DEFAULT","",!0);function dc(a){if("function"==typeof a.P)return a.P();if(s(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ab(a)}
function ec(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||s(a))Fa(a,b,void 0);else{var c;if("function"==typeof a.Y)c=a.Y();else if("function"!=typeof a.P)if(fa(a)||s(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=bb(a);else c=void 0;for(var d=dc(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function fc(a){this.d=new Lb;if(a){a=dc(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])}}function gc(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[ia]||(a[ia]=++ja)):b.substr(0,1)+a}l=fc.prototype;l.S=function(){return this.d.S()};l.add=function(a){this.d.set(gc(a),a)};l.removeAll=function(a){a=dc(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};l.remove=function(a){return this.d.remove(gc(a))};l.clear=function(){this.d.clear()};l.P=function(){return this.d.P()};l.clone=function(){return new fc(this)};
l.La=function(){return this.d.La(!1)};function hc(a){this.d=0;this.j=new fc;this.g=ic()[0];if(null!=a){this.d=0;this.j.clear();for(var b=0;b<a.length;b++){var c=a[b],d=void 0;t:switch(c){case 0:case 10:case 20:case 30:case 40:d=!0;break t;default:d=!1}d?c>this.d&&(this.d=c):this.j.add(c)}this.g=ic()[this.d];a=this.j.P();for(b=0;b<a.length;b++)c=a[b],this.g|=ic()[c]}}var jc=null;function ic(){null!=jc||(jc={0:1,10:2,20:4,30:8,40:16,50:32,60:64,70:128});return jc}new hc([0]);new hc([20]);new hc([20,60]);new hc([30]);new hc([40]);function J(){this.v=this.v;this.F=this.F}J.prototype.v=!1;J.prototype.K=function(){this.v||(this.v=!0,this.C())};function kc(a,b){a.F||(a.F=[]);a.F.push(n(void 0)?u(b,void 0):b)}J.prototype.C=function(){if(this.F)for(;this.F.length;)this.F.shift()()};function K(a){a&&"function"==typeof a.K&&a.K()}function lc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];fa(d)?lc.apply(null,d):K(d)}};function mc(a){I.call(this,"Anyone","anyone","anyone",!0,void 0,a)}z(mc,I);bc("anyone",function(a){return new mc(a.requiresKey)});function nc(a,b){I.call(this,a,b,"event")}z(nc,I);nc.prototype.d=function(){var a=nc.w.d.call(this);return Za(a)};bc("event",function(a){return new nc(a.name,a.id)});function oc(a,b,c,d,e,f,g){I.call(this,a,b,"focusGroup",c,d,e);this.g=null!=f?f:null;this.k=g||"c"}z(oc,I);oc.prototype.d=function(){var a=oc.w.d.call(this);this.g&&(a.membershipCount=this.g);a.groupType=this.k;return Za(a)};bc("focusGroup",function(a){return new oc(a.name,a.id,a.me,a.iconUrl,a.requiresKey,a.membershipCount,a.groupType)});function pc(a,b,c,d,e,f,g,k){I.call(this,a,b,"group",d,e,f);this.g=c;this.v=null!=g?g:null;this.k=k||"g"}z(pc,I);pc.prototype.d=function(){var a=pc.w.d.call(this);a.email=this.g;a.membershipCount=this.v;a.groupType=this.k;return Za(a)};bc("group",function(a){return new pc(a.name,a.id,a.email,a.me,a.iconUrl,a.requiresKey,a.membershipCount,a.groupType)});function qc(a,b,c,d,e,f,g,k){I.call(this,a,b,"invite",f,g);this.g=!!k;this.k=c;this.v=!!d;this.B=n(e)?e:null}z(qc,I);qc.prototype.d=function(){var a=qc.w.d.call(this);a.anonymousUse=this.g;a.email=this.k;a.singleUse=this.v;a.uses=this.B;return Za(a)};bc("invite",function(a){return new qc(a.name,a.id,a.email,a.singleUse,a.uses,a.me,a.iconUrl,a.anonymousUse)});function rc(a){a=/sgn:\/\/([a-z]+\.[a-z]+)\/\?pk=([a-z0-9]+)/i.exec(a);this.d=decodeURIComponent(a[2])};function sc(a,b,c){this.g=new rc(a);I.call(this,this.g.d,a,"pseudonym",b,c)}z(sc,I);sc.prototype.d=function(){var a=sc.w.d.call(this);return Za(a)};bc("pseudonym",function(a){return new sc(a.id,a.me,a.iconUrl)});function tc(a,b){I.call(this,a,b,"sq")}z(tc,I);tc.prototype.d=function(){var a=tc.w.d.call(this);return Za(a)};bc("sq",function(a){return new tc(a.name,a.id)});function uc(a,b,c){I.call(this,a,b,"unresolvedEmail",!1,c);this.g=b}z(uc,I);uc.prototype.d=function(){var a=uc.w.d.call(this);a.email=this.g;return Za(a)};bc("unresolvedEmail",function(a){return new uc(a.name,a.email,a.iconUrl)});function vc(a,b,c,d,e,f,g){I.call(this,a,b,"user",d,e,g);this.g=c||null;this.k=f||null}z(vc,I);vc.prototype.d=function(){var a=vc.w.d.call(this);a.isMe=this.j;a.email=this.g;a.invitedEmail=this.k;return Za(a)};bc("user",function(a){return new vc(a.name,a.id,a.email,a.isMe||a.me,a.iconUrl,a.invitedEmail,a.requiresKey)});function wc(a,b,c){I.call(this,a,b,"zanzibar");this.g=c}z(wc,I);wc.prototype.d=function(){var a=wc.w.d.call(this);a.applicationId=this.g;return Za(a)};bc("zanzibar",function(a){return new wc(a.name,a.id,a.applicationId)});function xc(a){var b=m.onerror,c=!1;Ub&&!H("535.3")&&(c=!c);m.onerror=function(d,e,f,g,k){b&&b(d,e,f,g,k);a({message:d,fileName:e,wc:f,Ec:g,error:k});return c}}
function yc(a){var b=ca("window.location.href");if(s(a))return{message:a,name:"Unknown error",lineNumber:"Not available",fileName:b,stack:"Not available"};var c,d,e=!1;try{c=a.lineNumber||a.wc||"Not available"}catch(f){c="Not available",e=!0}try{d=a.fileName||a.filename||a.sourceURL||m.$googDebugFname||b}catch(g){d="Not available",e=!0}return!e&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:c,fileName:d,stack:a.stack||
"Not available"}};function zc(a){a&&Ac(this,a)}function Ac(a,b,c,d,e){a.o=b;d||e||(pa(b,"?")&&(b=b.substring(0,b.length-1)),pa(b,"()")&&(pa(b,"name()")||pa(b,"count()")||pa(b,"position()"))&&(d=b.lastIndexOf("/"),-1!=d?b=b.substring(0,d):b="."));a.d=c||b.split("/");a.v=a.d.length;a.j=a.d[0];1==a.v?(a.g=a,a.k=0==b.lastIndexOf("$",0)):(b=a.j||null.join("/"),c=Bc[b],null==c&&(c=new zc,Ac(c,b,null,a,null),Bc[b]=c),a.g=c,a.k=a.g.k,a.j=a.g.j)}zc.prototype.d=[];zc.prototype.v=null;
function Cc(a){var b=Bc[a];null==b&&(b=new zc(a),Bc[a]=b)}var Bc={};Cc(".");Cc("*|text()");Cc("*");Cc("@*");Cc("name()");Cc("count()");Cc("position()");function Dc(a,b,c,d,e,f){var g="";a&&(g+=a+":");c&&(g+="//",b&&(g+=b+"@"),g+=c,d&&(g+=":"+d));e&&(g+=e);f&&(g+="?"+f);return g}var Ec=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Fc(a){if(Gc){Gc=!1;var b=m.location;if(b){var c=b.href;if(c&&(c=Hc(Fc(c)[3]||null,!0))&&c!=b.hostname)throw Gc=!0,Error();}}return a.match(Ec)}var Gc=Ub;function Hc(a,b){return a?b?decodeURI(a):decodeURIComponent(a):a}
function Ic(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")}function Jc(a,b,c){if(r(b))for(var d=0;d<b.length;d++)Jc(a,String(b[d]),c);else null!=b&&c.push("&",a,""===b?"":"=",ra(b))}function Kc(a,b,c){Math.max(b.length-(c||0),0);for(c=c||0;c<b.length;c+=2)Jc(b[c],b[c+1],a);return a}function Lc(a,b){for(var c in b)Jc(c,b[c],a);return a}
function Mc(a){a=Lc([],a);a[0]="";return a.join("")}function Nc(a,b){return Ic(2==arguments.length?Kc([a],arguments[1],0):Kc([a],arguments,1))}function Oc(a,b){pa(a,"/")&&(a=a.substr(0,a.length-1));0==b.lastIndexOf("/",0)&&(b=b.substr(1));return Ba(a,"/",b)};function Pc(a,b){var c;a instanceof Pc?(this.ca=n(b)?b:a.ca,Qc(this,a.ka),this.Ba=a.Ba,this.na=a.na,Rc(this,a.Aa),this.za=a.za,Sc(this,a.d.clone()),this.ya=a.ya):a&&(c=Fc(String(a)))?(this.ca=!!b,Qc(this,c[1]||"",!0),this.Ba=Tc(c[2]||""),this.na=Tc(c[3]||"",!0),Rc(this,c[4]),this.za=Tc(c[5]||"",!0),Sc(this,c[6]||"",!0),this.ya=Tc(c[7]||"")):(this.ca=!!b,this.d=new Uc(null,0,this.ca))}l=Pc.prototype;l.ka="";l.Ba="";l.na="";l.Aa=null;l.za="";l.ya="";l.ca=!1;
l.toString=function(){var a=[],b=this.ka;b&&a.push(Vc(b,Wc,!0),":");if(b=this.na){a.push("//");var c=this.Ba;c&&a.push(Vc(c,Wc,!0),"@");a.push(ra(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Aa;null!=b&&a.push(":",String(b))}if(b=this.za)this.na&&"/"!=b.charAt(0)&&a.push("/"),a.push(Vc(b,"/"==b.charAt(0)?Xc:Yc,!0));(b=this.d.toString())&&a.push("?",b);(b=this.ya)&&a.push("#",Vc(b,Zc));return a.join("")};l.clone=function(){return new Pc(this)};
function Qc(a,b,c){a.ka=c?Tc(b,!0):b;a.ka&&(a.ka=a.ka.replace(/:$/,""))}function Rc(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Aa=b}else a.Aa=null}function Sc(a,b,c){b instanceof Uc?(a.d=b,$c(a.d,a.ca)):(c||(b=Vc(b,ad)),a.d=new Uc(b,0,a.ca))}function Tc(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function Vc(a,b,c){return s(a)?(a=encodeURI(a).replace(b,bd),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function bd(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Wc=/[#\/\?@]/g,Yc=/[\#\?:]/g,Xc=/[\#\?]/g,ad=/[\#\?@]/g,Zc=/#/g;function Uc(a,b,c){this.d=a||null;this.g=!!c}function cd(a){if(!a.I&&(a.I=new Lb,a.Q=0,a.d))for(var b=a.d.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=sa(e);e=dd(a,e);a.add(e,f?sa(f):"")}}l=Uc.prototype;l.I=null;l.Q=null;l.S=function(){cd(this);return this.Q};
l.add=function(a,b){cd(this);this.d=null;a=dd(this,a);var c=this.I.get(a);c||this.I.set(a,c=[]);c.push(b);this.Q++;return this};l.remove=function(a){cd(this);a=dd(this,a);return Nb(this.I.g,a)?(this.d=null,this.Q-=this.I.get(a).length,this.I.remove(a)):!1};l.clear=function(){this.I=this.d=null;this.Q=0};function ed(a,b){cd(a);b=dd(a,b);return Nb(a.I.g,b)}l.Y=function(){cd(this);for(var a=this.I.P(),b=this.I.Y(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
l.P=function(a){cd(this);var b=[];if(s(a))ed(this,a)&&(b=Ma(b,this.I.get(dd(this,a))));else{a=this.I.P();for(var c=0;c<a.length;c++)b=Ma(b,a[c])}return b};l.set=function(a,b){cd(this);this.d=null;a=dd(this,a);ed(this,a)&&(this.Q-=this.I.get(a).length);this.I.set(a,[b]);this.Q++;return this};l.get=function(a,b){var c=a?this.P(a):[];return 0<c.length?String(c[0]):b};
l.toString=function(){if(this.d)return this.d;if(!this.I)return"";for(var a=[],b=this.I.Y(),c=0;c<b.length;c++)for(var d=b[c],e=ra(d),d=this.P(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+ra(d[f]));a.push(g)}return this.d=a.join("&")};l.clone=function(){var a=new Uc;a.d=this.d;this.I&&(a.I=this.I.clone(),a.Q=this.Q);return a};function dd(a,b){var c=String(b);a.g&&(c=c.toLowerCase());return c}
function $c(a,b){b&&!a.g&&(cd(a),a.d=null,a.I.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.d=null,this.I.set(dd(this,e),Na(a)),this.Q+=a.length))},a));a.g=b};var fd={starred:1,trashed:2,shared:4,published:8,blogged:16,mine:32,deleted:64,hidden:128,shareable:512,collaboratorsCanInvite:1024,openInvites:2048,readOnly:4096,system:8192,sewm:32768,abuse:65536,blob_versionable:131072,convertible:262144,subscribed:524288,subscribable:1048576,unsubscribable:2097152,markedForOffline:4194304,restrictedDownload:8388608,downloadable:16777216,explicitlyTrashed:33554432,copyable:67108864,blobMissing:134217728};function L(a,b){this.type=a;this.g=this.target=b;this.j=!1;this.$a=!0}L.prototype.K=function(){};L.prototype.stopPropagation=function(){this.j=!0};L.prototype.k=function(){this.$a=!1};var gd=[],hd=[],id=!1;function jd(a){gd[gd.length]=a;if(id)for(var b=0;b<hd.length;b++)a(u(hd[b].d,hd[b]))};function kd(a){kd[" "](a);return a}kd[" "]=q;var ld=!G||G&&9<=Zb,md=G&&!H("9");!Ub||H("528");Tb&&H("1.9b")||G&&H("8")||Sb&&H("9.5")||Ub&&H("528");Tb&&!H("8")||G&&H("9");function nd(a,b){L.call(this,a?a.type:"");this.g=this.target=null;this.clientY=this.clientX=0;this.d=this.state=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.g=b;var c=a.relatedTarget;if(c&&Tb)try{kd(c.nodeName)}catch(d){}this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.state=a.state;this.d=a;a.defaultPrevented&&this.k()}}z(nd,L);
nd.prototype.stopPropagation=function(){nd.w.stopPropagation.call(this);this.d.stopPropagation?this.d.stopPropagation():this.d.cancelBubble=!0};nd.prototype.k=function(){nd.w.k.call(this);var a=this.d;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,md)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var od="closure_listenable_"+(1E6*Math.random()|0),pd=0;function qd(a,b,c,d,e){this.ba=a;this.proxy=null;this.src=b;this.type=c;this.wa=!!d;this.Ca=e;this.key=++pd;this.removed=this.xa=!1}function rd(a){a.removed=!0;a.ba=null;a.proxy=null;a.src=null;a.Ca=null};function sd(a){this.src=a;this.d={};this.g=0}sd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.d[f];a||(a=this.d[f]=[],this.g++);var g=td(a,b,d,e);-1<g?(b=a[g],c||(b.xa=!1)):(b=new qd(b,this.src,f,!!d,e),b.xa=c,a.push(b));return b};sd.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.d))return!1;var e=this.d[a];b=td(e,b,c,d);return-1<b?(rd(e[b]),C.splice.call(e,b,1),0==e.length&&(delete this.d[a],this.g--),!0):!1};
function ud(a,b){var c=b.type;if(!(c in a.d))return!1;var d=La(a.d[c],b);d&&(rd(b),0==a.d[c].length&&(delete a.d[c],a.g--));return d}sd.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.d)if(!a||c==a){for(var d=this.d[c],e=0;e<d.length;e++)++b,rd(d[e]);delete this.d[c];this.g--}return b};function vd(a,b,c,d,e){a=a.d[b.toString()];b=-1;a&&(b=td(a,c,d,e));return-1<b?a[b]:null}
function td(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.ba==b&&f.wa==!!c&&f.Ca==d)return e}return-1};var wd="closure_lm_"+(1E6*Math.random()|0),xd={},yd=0;function zd(a,b,c,d,e){if(r(b)){for(var f=0;f<b.length;f++)zd(a,b[f],c,d,e);return null}c=Ad(c);if(a&&a[od])a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=Bd(a);g||(a[wd]=g=new sd(a));c=g.add(b,c,!1,d,e);c.proxy||(d=Cd(),c.proxy=d,d.src=a,d.ba=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Dd(b.toString()),d),yd++);a=c}return a}
function Cd(){var a=Ed,b=ld?function(c){return a.call(b.src,b.ba,c)}:function(c){c=a.call(b.src,b.ba,c);if(!c)return c};return b}function Fd(a,b,c,d,e){if(r(b))for(var f=0;f<b.length;f++)Fd(a,b[f],c,d,e);else c=Ad(c),a&&a[od]?a.Ka(b,c,d,e):a&&(a=Bd(a))&&(b=vd(a,b,c,!!d,e))&&Gd(b)}
function Gd(a){if(ga(a)||!a||a.removed)return!1;var b=a.src;if(b&&b[od])return ud(b.Z,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.wa):b.detachEvent&&b.detachEvent(Dd(c),d);yd--;(c=Bd(b))?(ud(c,a),0==c.g&&(c.src=null,b[wd]=null)):rd(a);return!0}function Dd(a){return a in xd?xd[a]:xd[a]="on"+a}function Hd(a,b,c,d){var e=1;if(a=Bd(a))if(b=a.d[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.wa==c&&!f.removed&&(e&=!1!==Id(f,d))}return Boolean(e)}
function Id(a,b){var c=a.ba,d=a.Ca||a.src;a.xa&&Gd(a);return c.call(d,b)}
function Ed(a,b){if(a.removed)return!0;if(!ld){var c=b||ca("window.event"),d=new nd(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){t:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break t}catch(g){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.g;f;f=f.parentNode)c.push(f);for(var f=a.type,k=c.length-1;!d.j&&0<=k;k--)d.g=c[k],e&=Hd(c[k],f,!0,d);for(k=0;!d.j&&k<c.length;k++)d.g=c[k],e&=Hd(c[k],f,!1,d)}return e}return Id(a,new nd(b,this))}
function Bd(a){a=a[wd];return a instanceof sd?a:null}var Jd="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ad(a){if(ha(a))return a;a[Jd]||(a[Jd]=function(b){return a.handleEvent(b)});return a[Jd]}jd(function(a){Ed=a(Ed)});function M(){J.call(this);this.Z=new sd(this);this.W=this;this.A=null}z(M,J);M.prototype[od]=!0;l=M.prototype;l.addEventListener=function(a,b,c,d){zd(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Fd(this,a,b,c,d)};
function N(a,b){var c,d=a.A;if(d){c=[];for(var e=1;d;d=d.A)c.push(d),++e}var d=a.W,e=b,f=e.type||e;if(s(e))e=new L(e,d);else if(e instanceof L)e.target=e.target||d;else{var g=e,e=new L(f,d);ib(e,g)}var g=!0,k;if(c)for(var p=c.length-1;!e.j&&0<=p;p--)k=e.g=c[p],g=Kd(k,f,!0,e)&&g;e.j||(k=e.g=d,g=Kd(k,f,!0,e)&&g,e.j||(g=Kd(k,f,!1,e)&&g));if(c)for(p=0;!e.j&&p<c.length;p++)k=e.g=c[p],g=Kd(k,f,!1,e)&&g}l.C=function(){M.w.C.call(this);this.Z&&this.Z.removeAll(void 0);this.A=null};
l.listen=function(a,b,c,d){return this.Z.add(String(a),b,!1,c,d)};l.Ka=function(a,b,c,d){return this.Z.remove(String(a),b,c,d)};function Kd(a,b,c,d){b=a.Z.d[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.wa==c){var k=g.ba,p=g.Ca||g.src;g.xa&&ud(a.Z,g);e=!1!==k.call(p,d)&&e}}return e&&0!=d.$a};function Ld(a){M.call(this);this.d=a;a.A=this;this.g=!1}z(Ld,M);
Ld.prototype.write=function(a,b,c){if(!this.g)throw Error("Cannot write to read-only local store.");for(var d=[],e=0;e<a.length;e++){var f=a[e];if(f.q||!db(f.j)){var g=this.d.o[f.o]||null;if(g)g=g.p(f),d=d.concat(g),f.j={},f.q=!1;else throw Error("No Capability for record :"+f.o);}}if(0==d.length)b();else if(a=this.d,a.d.g)O(b);else{f={};for(e=0;e<d.length;e++)for(var g=d[e],k=Md(a,g),g=k.M(g),k=0;k<g.length;k++)f[g[k]]=!0;c=Nd(a.d,bb(f),"Error writing records.",c,!0);Od(c,b);for(e=0;e<d.length;e++)g=
d[e],k=Md(a,g),k.R(g,c)}};function Pd(a,b,c){A.call(this,"Local storage error: "+b);this.type=a;this.cause=c||null}z(Pd,A);function Qd(a,b){this.g=a;this.d=b};function Rd(){return Eb.X()};function Sd(){try{return!!m.localStorage.getItem("docs-ois")}catch(a){return!1}};var Td,Ud,Vd,Wd,Xd,Yd,Zd;Zd=Yd=Xd=Wd=Vd=Ud=Td=!1;var $d=Ob;$d&&(-1!=$d.indexOf("Firefox")?Td=!0:-1!=$d.indexOf("Camino")?Ud=!0:-1!=$d.indexOf("iPhone")||-1!=$d.indexOf("iPod")?Vd=!0:-1!=$d.indexOf("iPad")?Wd=!0:-1!=$d.indexOf("Chrome")?Yd=!0:-1!=$d.indexOf("Android")?Xd=!0:-1!=$d.indexOf("Safari")&&(Zd=!0));var ae=Td,be=Ud,ce=Vd,de=Wd,ee=Xd,fe=Yd,ge=Zd;function he(a){return(a=a.exec(Ob))?a[1]:""}var ie=function(){if(ae)return he(/Firefox\/([0-9.]+)/);if(G||Sb)return Wb;if(fe)return he(/Chrome\/([0-9.]+)/);if(ge)return he(/Version\/([0-9.]+)/);if(ce||de){var a;if(a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Ob))return a[1]+"."+a[2]}else{if(ee)return(a=he(/Android\s+([0-9.]+)/))?a:he(/Version\/([0-9.]+)/);if(be)return he(/Camino\/([0-9.]+)/)}return""}();function je(){}var ke=[{name:"background",Fa:0},{name:"background_alias_do_not_use",Fa:19}],le=[{name:"unlimitedStorage",Fa:0},{name:"unlimited_storage",Fa:0}];
function me(a){try{if(m.chrome.app.isInstalled)return"ok";var b=ne();if(t(b)){var c={},d;for(d in b){var e=b[d];c["appDetails_"+d]=t(e)?JSON.stringify(e):e}a.g("Chrome Drive app is installed and enabled, but not effective (indicating a Chrome bug)",c);return"not-effective"}return"disabled-or-not-installed"}catch(f){return"disabled-or-not-installed"}}function ne(){if(!fe)return null;try{return m.chrome.app.getDetails()}catch(a){return null}}
function oe(a,b,c){if(fe&&"ok"==me(a))try{var d=ne().permissions||[];for(a=0;a<b.length;a++)if(0<=E(d,b[a].name)&&0<=Ca(ie,b[a].Fa))return!0;return!1}catch(e){return c}else return!1}je.prototype.g=function(a,b){var c=a;b&&(c+=" "+Sa(b));throw Error(c);};function pe(a){this.d=a||null}z(pe,je);pe.prototype.g=function(a,b){this.d&&this.d.log(Error(a),b)};function qe(a){m.setTimeout(function(){throw a;},0)}var re;
function se(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=u(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Rb("Trident")&&!Rb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.tb;c.tb=null;a()};return function(a){d.next={tb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}}var te=Hb;jd(function(a){te=a});function ue(a,b){ve||we();xe||(ve(),xe=!0);ye.push(new ze(a,b))}var ve;function we(){if(m.Promise&&m.Promise.resolve){var a=m.Promise.resolve();ve=function(){a.then(Ae)}}else ve=function(){var a=Ae,a=te(a);!ha(m.setImmediate)||m.Window&&m.Window.prototype.setImmediate==m.setImmediate?(re||(re=se()),re(a)):m.setImmediate(a)}}var xe=!1,ye=[];function Ae(){for(;ye.length;){var a=ye;ye=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.d.call(c.scope)}catch(d){qe(d)}}}xe=!1}
function ze(a,b){this.d=a;this.scope=b};function Be(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Ce(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function De(a,b){this.g=0;this.o=void 0;this.d=this.j=null;this.k=this.v=!1;try{var c=this;a.call(b,function(a){Ee(c,2,a)},function(a){Ee(c,3,a)})}catch(d){Ee(this,3,d)}}De.prototype.then=function(a,b,c){return Fe(this,ha(a)?a:null,ha(b)?b:null,c)};Be(De);function Ge(a,b){a.d&&a.d.length||2!=a.g&&3!=a.g||He(a);a.d||(a.d=[]);a.d.push(b)}
function Fe(a,b,c,d){var e={Oa:null,Xa:null,Ya:null};e.Oa=new De(function(a,g){e.Xa=b?function(c){try{var e=b.call(d,c);a(e)}catch(x){g(x)}}:a;e.Ya=c?function(b){try{var e=c.call(d,b);a(e)}catch(x){g(x)}}:g});e.Oa.j=a;Ge(a,e);return e.Oa}De.prototype.p=function(a){this.g=0;Ee(this,2,a)};De.prototype.F=function(a){this.g=0;Ee(this,3,a)};
function Ee(a,b,c){if(0==a.g){if(a==c)b=3,c=new TypeError("Promise cannot resolve to itself");else{if(Ce(c)){a.g=1;c.then(a.p,a.F,a);return}if(t(c))try{var d=c.then;if(ha(d)){Ie(a,c,d);return}}catch(e){b=3,c=e}}a.o=c;a.g=b;He(a);3!=b||Je(a,c)}}function Ie(a,b,c){function d(b){f||(f=!0,a.F(b))}function e(b){f||(f=!0,a.p(b))}a.g=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function He(a){a.v||(a.v=!0,ue(a.A,a))}
De.prototype.A=function(){for(;this.d&&this.d.length;){var a=this.d;this.d=[];for(var b=0;b<a.length;b++){var c=a[b],d=this.o;if(2==this.g)c.Xa(d);else{for(var e=void 0,e=this;e&&e.k;e=e.j)e.k=!1;c.Ya(d)}}}this.v=!1};function Je(a,b){a.k=!0;ue(function(){a.k&&Ke.call(null,b)})}var Ke=qe;/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function Le(a,b){this.v=[];this.D=b||null;this.g=this.d=!1;this.k=void 0;this.A=this.q=this.p=!1;this.o=0;this.j=null;this.B=0}Le.prototype.F=function(a,b){this.p=!1;Me(this,a,b)};function Me(a,b,c){a.d=!0;a.k=c;a.g=!b;Ne(a)}function Oe(a){if(a.d){if(!a.A)throw new Pe;a.A=!1}}function Qe(a,b){Oe(a);Me(a,!0,b)}function Re(a,b){Oe(a);Me(a,!1,b)}function Se(a,b,c,d){a.v.push([b,c,d]);a.d&&Ne(a)}
Le.prototype.then=function(a,b,c){var d,e,f=new De(function(a,b){d=a;e=b});Se(this,d,function(a){e(a)});return f.then(a,b,c)};Be(Le);function Te(a){return Ia(a.v,function(a){return ha(a[1])})}
function Ne(a){if(a.o&&a.d&&Te(a)){var b=a.o,c=Ue[b];c&&(m.clearTimeout(c.pa),delete Ue[b]);a.o=0}a.j&&(a.j.B--,delete a.j);for(var b=a.k,d=c=!1;a.v.length&&!a.p;){var e=a.v.shift(),f=e[0],g=e[1],e=e[2];if(f=a.g?g:f)try{var k=f.call(e||a.D,b);n(k)&&(a.g=a.g&&(k==b||k instanceof Error),a.k=b=k);Ce(b)&&(d=!0,a.p=!0)}catch(p){b=p,a.g=!0,Te(a)||(c=!0)}}a.k=b;d&&(k=u(a.F,a,!0),d=u(a.F,a,!1),b instanceof Le?(Se(b,k,d),b.q=!0):b.then(k,d));c&&(b=new Ve(b),Ue[b.pa]=b,a.o=b.pa)}
function Pe(){A.call(this)}z(Pe,A);Pe.prototype.message="Deferred has already fired";Pe.prototype.name="AlreadyCalledError";function Ve(a){this.pa=m.setTimeout(u(this.g,this),0);this.d=a}Ve.prototype.g=function(){delete Ue[this.pa];throw this.d;};var Ue={};F(Rd(),"docs-csi-reporting-uri-override");kb("heapLimit","idbodb","idbla","idbrot","idbrwt","pqct","totalHeap","usedHeap");function We(){this.d={};this.p=this.j=null;this.F=this.v=!1;this.o=this.k=null;this.setTime=this.g;this.incrementTime=this.A}da(We);We.prototype.initialize=function(a,b,c,d,e){if(this.v)throw Error("Timing object is already set.");for(var f in this.d){if(n(a[f]))throw Error("Field "+f+" was set twice.");a[f]=this.d[f]}this.d=a;this.p=b;this.j=kb(c);this.k=d;this.o=e;for(f in this.d)delete this.j[f];this.v=!0;Xe(this)};
function Ye(a,b){a.v&&(a.F?a.p.log(Error("Timing field "+b+" was set after the initial load timing values were reported.")):(delete a.j[b],Xe(a)))}function Xe(a){var b=a.j,c=0,d;for(d in b)c++;0==c&&(a.F=!0,b=a.o.zc(a.d),a.k.p(a.o.Ac(),b),a.k.k())}We.prototype.g=function(a){var b=y();if(null!=this.d[a])throw Error("Field "+a+" is already set.");this.d[a]=b;Ye(this,a)};We.prototype.A=function(a,b){null!=this.d[a]||(this.d[a]=0);this.d[a]+=b;Ye(this,a)};m._getTimingInstance=We.X;m._docsTiming=We;function Ze(a,b){b.push(a);for(var c=0;c<a.length;c++)if(r(a[c])){if(0<=E(b,a[c]))throw Error("Circular reference detected");Ze(a[c],b)}b.pop()}function $e(a,b,c){if(a.length!=b.length)return!1;c=c||Pa;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(r(a[d])&&r(b[d])){if(!$e(a[d],b[d],c))return!1}else return!1;return!0};function af(a,b){if(a==b)return!0;if(!t(a)||!t(b))return!1;var c=bb(a);if(c.length!=bb(b).length)return!1;for(var d=bf||Pa,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function bf(a,b){var c;if(a===b)c=!0;else if(r(a)&&r(b))t:{var d=bf;if(fa(a)&&fa(b)&&a.length==b.length){c=a.length;for(var d=d||Pa,e=0;e<c;e++)if(!d(a[e],b[e])){c=!1;break t}c=!0}else c=!1}else c=t(a)&&t(b)?af(a,b):!1;return c}
function cf(a,b){b.push(a);for(var c in a)if(t(a[c])){if(0<=E(b,a[c]))throw Error("Circular reference detected");cf(a[c],b)}b.pop()};function df(a,b){J.call(this);this.o=a;this.d={};this.j={};this.q=b||!1;this.p=!this.q}z(df,J);df.prototype.g=aa("q");function ef(a,b){var c=ff(a,b);return null==c?null:gb(c)}function gf(a,b){var c;c=ff(a,b);c=null==c?null:c;return null==c||0==c?null:c}function P(a,b){var c=ff(a,b);return null==c?null:c}function hf(a,b){return null==ff(a,b)?null:""!=a.d[b]}function jf(a,b,c){Q(a,b,c?"true":"")}function kf(a,b){var c=ff(a,b);return null==c?null:gb(c)}
function ff(a,b){var c=a.d[b];return null!=c?c:null}function Q(a,b,c){t(c)&&!r(c)?(cf(c,[]),null!=a.d[b]&&bf(a.d[b],c)||(c=gb(c),a.d[b]=c,a.p||(a.j[b]=c))):r(c)?(Ze(c,[]),cf(c,[]),null!=a.d[b]&&$e(a.d[b],c)||(c=gb(c),a.d[b]=c,a.p||(a.j[b]=c))):a.d[b]!=c&&(a.d[b]=c,a.p||(a.j[b]=c))}function lf(a,b,c,d){var e=a.d,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.p||(a=a.j,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}df.prototype.B=h(null);df.prototype.C=function(){df.w.C.call(this);delete this.d;delete this.j};function mf(a,b,c){df.call(this,2,c);Q(this,"id",a);Q(this,"documentType",b)}z(mf,df);var nf=[0,1,4,2,3];mf.prototype.setTitle=function(a){Q(this,"title",a)};function of(a){return a.d.documentType}mf.prototype.B=function(){return mf.w.B.call(this)};function pf(a){var b=of(a),c=P(a,"jobset"),d;try{d=null==ff(a,"isFastTrack")?!1:""!=a.d.isFastTrack}catch(e){throw e;}return{type:b,Tb:c,Sb:d}};function O(a,b,c){if(ha(a))c&&(a=u(a,c));else if(a&&"function"==typeof a.handleEvent)a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)};var qf=m.IDBKeyRange||m.webkitIDBKeyRange;
function rf(a,b,c,d,e,f){b=n(b)?sf(b,c):null;e=e?"prev":"next";if(d)return a=tf(a,d),f?(f=n(b),d=n(e),f=f&&d?a.d.openKeyCursor(b,e):f?a.d.openKeyCursor(b):a.d.openKeyCursor(),b=new R(f,a.g,a.d.name+".openKeyCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.k,a.j)):(f=n(b),d=n(e),f=f&&d?a.d.openCursor(b,e):f?a.d.openCursor(b):a.d.openCursor(),b=new R(f,a.g,a.d.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.k,a.j)),b;f=n(b);d=n(e);f=f&&d?a.d.openCursor(b,e):f?a.d.openCursor(b):a.d.openCursor();
return new R(f,a.g,a.d.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.k,a.j)}function S(a,b,c){b=sf(b,c);uf(a,b)}function vf(a,b,c){a=T(a,"Documents");var d=[];U(rf(a,void 0,void 0,void 0,void 0,void 0),function(a){if(a=a.target.result){var f=n(a.value)?a.value:a.key;(f=b(f))&&d.push(f);a["continue"]()}else c&&c(d)})}function wf(a){var b=a.target.error,c=b&&b.name,b=b&&b.message||a.target.webkitErrorMessage;a.target.docs_internalAbort&&(b="Internal abort: "+b);return c+" ("+b+")"}
function xf(a,b){return function(c){c.stopPropagation();b(new Pd(1,a+" ("+wf(c)+")",c))}}function sf(a,b){return n(b)&&a!=b?qf.bound(a,b):qf.only(a)};function yf(a,b,c){this.d=a;this.g=b;this.j=c};function zf(){}zf.prototype.clear=q;zf.prototype.d=q;zf.prototype.log=q;function Af(a){this.o=a||y;this.g={};this.d=new zf;this.v=18E5;"docs-mriim"in Rd().d&&(this.v=Gb(Rd(),"docs-mriim"));this.j={};this.saveInitialLoadStats=this.p;this.maybeReportMemoryStats=this.k;this.getInitialLoadStats=this.F}da(Af);Af.prototype.p=function(a,b){var c=this.j=b,d=[],e;for(e in c)d.push([e,c[e]]);this.d.d(a,d)};Af.prototype.F=function(){return Sa(this.j)};function Bf(a,b){var c="goog_"+Ea++;a.g[c]={startTime:a.o(),Yb:b};return c}
function Cf(a,b){var c=a.g[b];c&&(a.d.log(c.Yb,a.o()-c.startTime),delete a.g[b])}function Df(a,b){a.g[b]&&delete a.g[b]}Af.prototype.k=function(){var a;t:{if(m.performance&&m.performance.memory&&(a=m.performance.memory,0!=a.totalJSHeapSize)){a=new yf(Math.round(a.jsHeapSizeLimit/1048576),Math.round(a.totalJSHeapSize/1048576),Math.round(a.usedJSHeapSize/1048576));break t}a=null}null!=a&&(this.d.log("heapLimit",a.d),this.d.log("totalHeap",a.g),this.d.log("usedHeap",a.j),O(this.k,this.v,this))};function Ef(a,b,c,d){J.call(this);this.q=a;this.p=b;this.j=c;this.o=d||y;this.k=this.d=0;this.g=[]}z(Ef,J);function Ff(a){if(a.k)throw Error("Idle delay has already been started");a.k=a.o()+a.p;a.d=O(a.A,a.p,a)}Ef.prototype.A=function(){this.d=0;var a=this.o()-this.k;this.g.push(a);var b=this.j.hidden||this.j.webkitHidden||this.j.mozHidden||this.j.msHidden?1020:20;10>this.g.length&&a>b?(this.k=this.o()+1E3,this.d=O(this.A,1E3,this)):this.q(this)};Ef.prototype.C=function(){this.d&&m.clearTimeout(this.d)};function R(a,b,c,d,e,f,g,k,p){this.H=a;this.j=b;this.q=c;this.D=d;this.L=e;a=e.k++;e.d[a]=c;this.J=a;this.v=this.p=null;this.F=f||null;this.o=Af.X();this.g=p?Bf(this.o,p):null;this.B=k||0;this.d=null;0<this.B&&(this.F||g)&&(this.d=new Ef(u(this.W,this),this.B,document),Ff(this.d));this.H.onsuccess=Gf(this.j,this.ha,this,!0);this.H.onerror=Gf(this.j,this.N,this,!0)}function U(a,b){if(a.p)throw Error("Success callback already set");a.p=b}
R.prototype.ha=function(a){K(this.d);this.g&&Cf(this.o,this.g);var b=this.L,c=this.J;b.j++;delete b.d[c];this.D.d||this.p&&this.p(a)};function Hf(a,b){if(a.v)throw Error("Error callback already set");a.v=b}R.prototype.N=function(a){K(this.d);this.g&&Df(this.o,this.g);var b=this.L,c=this.J;b.g++;delete b.d[c];a.target.docs_requestContext=this.q;this.D.d||(b=a.target.error)&&"AbortError"==b.name||this.v&&this.v(a)};R.prototype.G=function(a){a.onsuccess=q;a.onerror=q};
R.prototype.W=function(){this.g&&Df(this.o,this.g);If(this.j,Error("A request was running for a long time"),{documentHidden:document.hidden||document.webkitHidden,request:this.q,requestTimeoutMs:this.B,timeoutCallbackSet:!!this.F,timeoutDelays:this.d.g.concat().toString()});K(this.d);!this.D.d&&this.F&&(this.G(this.H),this.F())};function Jf(){this.d={};this.k=this.j=this.g=0};function Kf(){this.g=this.j=this.d=!1};function Lf(a){try{var b=m.localStorage.getItem("docs-ucb")}catch(c){return If(a,Error("Error reading unsaved changes bit: "+c.message)),"e"}switch(b){case "1":return"t";case "0":return"f";default:return"u"}};function Mf(a,b,c,d,e,f){R.call(this,a,b,c,new Kf,new Jf,d,!0,e,f);this.A=this.k=null;a.onblocked=Gf(b,this.$,this,!0);a.onupgradeneeded=Gf(b,this.ia,this,!0)}z(Mf,R);Mf.prototype.$=function(a){K(this.d);this.k&&this.k(a)};Mf.prototype.ia=function(a){K(this.d);if(a.dataLoss&&"none"!=a.dataLoss){var b={};b.dataLoss=a.dataLoss;b.dataLossMessage=a.dataLossMessage;b.optinBackup=Sd();b.requestContext=this.q;b.unsavedChanges=Lf(this.j);If(this.j,Error("upgradeNeeded after dataLoss"),b)}this.A&&this.A(a)};
Mf.prototype.G=function(a){Mf.w.G.call(this,a);a.onblocked=q;a.onupgradeneeded=q};function Nf(a,b){if(a.k)throw Error("Blocked callback already set");a.k=b}function Of(a,b){if(a.A)throw Error("Upgrade needed callback already set");a.A=b};function Pf(a,b,c,d){this.d=a;this.k=b;this.j=c;this.g=d}Pf.prototype.get=function(a){return new R(this.d.get(a),this.g,this.d.name+".get("+a+")",this.k,this.j)};function Qf(a,b,c,d){this.d=a;this.k=b;this.j=c;this.g=d}Qf.prototype.get=function(a){return new R(this.d.get(a),this.g,this.d.name+".get("+a+")",this.k,this.j)};function Rf(a,b){var c=n(void 0)?a.d.put(b,void 0):a.d.put(b);return new R(c,a.g,a.d.name+".put(undefined)",a.k,a.j)}Qf.prototype.add=function(a,b){var c=n(b)?this.d.add(a,b):this.d.add(a);return new R(c,this.g,this.d.name+".add("+b+")",this.k,this.j)};function uf(a,b){new R(a.d["delete"](b),a.g,a.d.name+".delete("+b+")",a.k,a.j)}
Qf.prototype.clear=function(){return new R(this.d.clear(),this.g,this.d.name+".clear()",this.k,this.j)};Qf.prototype.count=function(a){var b=n(a)?this.d.count(a):this.d.count();return new R(b,this.g,this.d.name+".count("+a+")",this.k,this.j)};function tf(a,b){return new Pf(a.d.index(b),a.k,a.j,a.g)};function Sf(a,b,c,d,e,f,g,k,p){this.W=a;this.L=b;this.q=c;this.j=d;this.D=e;this.A=!1;this.p=!!f;this.o=this.v=null;this.g=new Kf;this.G=new Jf;this.J=g||6E4;this.k=new Ef(u(this.wb,this),this.J,document);this.H=k||null;this.F=Af.X();this.d=null;this.N=Tf++;this.B=n(p)?p:this.p?"idbrwt":"idbrot"}var Tf=0;l=Sf.prototype;
l.open=function(){null!=this.B&&(this.d=Bf(this.F,this.B));var a=this.p?"readwrite":"readonly";Ff(this.k);a=this.W.transaction(this.L,a);a.onabort=Gf(this.j,this.Qb,this);a.oncomplete=Gf(this.j,this.Rb,this);a.onerror=Gf(this.j,this.Pb,this,!0);this.o=a};function Uf(a){a.g.g=!0;a.k.K();a.d&&(Df(a.F,a.d),a.d=null)}
function Vf(a,b,c){var d=a.g;if(!d.j&&!d.d){Wf(a);d.d=!0;try{a.o.abort(),c&&!a.A&&(a.D(c),a.A=!0)}catch(e){"InvalidStateError"==e.name&&b||(c=Xf(a),c.abortFromTimeout=b,If(a.j,e,c))}a.k.K()}}function T(a,b){Wf(a);return new Qf(a.o.objectStore(b),a.g,a.G,a.j)}function Od(a,b){if(a.v)throw Error("Completion callback already set");a.v=b}l.getStatus=aa("g");function Wf(a){if(!a.o)throw Error("Transaction does not exist");}
l.Qb=function(a){this.g.g||(this.g.j=!0,this.d&&(Df(this.F,this.d),this.d=null),this.k.K(),this.g.d||(a.target.docs_internalAbort=!0,!this.p&&a.target.error&&"QuotaExceededError"==a.target.error.name?this.v&&this.v():Yf(this,"LocalStore IndexedDB transaction abort",Xf(this),a)))};l.Rb=function(){this.g.g||(this.d&&(Cf(this.F,this.d),this.d=null),this.k.K(),this.v&&this.v())};
l.Pb=function(a){a.stopPropagation();var b=this.g;b.g||b.j||b.d||(b=a.target.error,b&&"AbortError"==b.name||(b=Xf(this),b.request=a.target.docs_requestContext,Yf(this,"LocalStore IndexedDB error",b,a)))};function Yf(a,b,c,d){b=b+" ("+a.q+"): "+wf(d);If(a.j,Error(b),c);c=new Pd(1,b,d);a.A||(a.D(c),a.A=!0)}
l.wb=function(){if(!this.g.g){var a=Xf(this);a.transactionTimeout=this.J;a.timeoutDelays=this.k.g.concat().toString();a.documentHidden=document.hidden||document.webkitHidden;If(this.j,Error("A transaction was running for a long time ("+this.q+")"),a);this.k.K();this.H&&(Vf(this,!0),this.H(),this.o.oncomplete=null)}};
function Xf(a){var b={transactionAllowWrite:a.p,transactionContext:a.q,transactionId:a.N,transactionObjectStores:a.L.toString()};a=a.G;var c=ab(a.d);b.pendingRequestCount=c.length;b.pendingRequests=c.toString();b.requestErrorCount=a.g;b.requestSuccessCount=a.j;return b};function Zf(a,b){L.call(this,"c",b)}z(Zf,L);function $f(a,b){M.call(this);this.k=a;this.j=b;this.d=null;this.g=!1}z($f,M);var ag=m.indexedDB||m.webkitIndexedDB;$f.prototype.o=function(){this.g=!0;this.close();N(this,new Zf)};$f.prototype.close=function(){this.d&&(this.d.onversionchange=null,this.d.close(),this.d=null)};
$f.prototype.initialize=function(a){if(this.d)throw Error("IdbDocsDatabase already managing a database.");if(null!=a.onversionchange)throw Error("This database is being managed by another class.");a.onclose=u(function(){var a={};a.optinBackup=Sd();If(this.j,Error("The database connection was closed."),a);N(this,"a")},this);a.onerror=xf("Database error.",this.k);a.onversionchange=u(this.o,this);this.d=a};function bg(a){if(!a.d)return-1;a=parseInt(a.d.version,10);return 0<=a?a:-1}
function Nd(a,b,c,d,e){if(!a.d)throw Error("Cannot open transaction on uninitialized IdbDocsDatabase");a=new Sf(a.d,b,c,a.j,d||a.k,e,void 0,void 0,void 0);a.open();return a}
function cg(a,b,c,d,e){if(bg(a)>=b)throw Error("Upgrading to a version ("+b+") less than or equal to current version ("+bg(a)+")");var f=a.d.name;a.close();var g=a.j;b=new Mf(ag.open(f,b),g,"setVersion database.open");Of(b,function(a){a=a.target.transaction;a.onabort=a.onerror=Gf(g,d,{},!0);c(a)});Hf(b,d);Nf(b,function(a){If(g,Error("Onblocked handler called when upgrading database."),{"Old version":a.oldVersion,"New version":a.newVersion})});U(b,u(function(a){this.initialize(a.target.result);e(a)},
a))}$f.prototype.C=function(){this.close();$f.w.C.call(this)};var dg=m.indexedDB||m.webkitIndexedDB;function eg(a,b,c,d,e,f){e=e?function(){d(new Pd(6,"Timeout opening database."))}:void 0;var g=We.X();f&&(g.g("odbs"),O(u(g.g,g,"odbjy")));e=new Mf(dg.open("GoogleDocs"),c,"database.open",e,Gb(Rd(),"docs-localstore-iort"),"idbodb");U(e,function(d){f&&g.g("odbc");var e=new $f(b,c);e.initialize(d.target.result);a(e)});Hf(e,xf("Error opening database.",d))};function fg(a,b){df.call(this,9,b);Q(this,"id",a);jf(this,"fastTrack",!0)}z(fg,df);function gg(a){return hf(a,"internal")||"google.com"==P(a,"managingDomain")};function hg(a){this.d=a}function ig(a){a=a.d;return"update-record"==a||"delete-record"==a};function jg(a,b,c){this.d=a;this.o=b;this.v=c}z(jg,hg);function V(a){if(null===a.o)throw Error("Cannot getKey of operation for singleton record.");return a.o};function kg(a,b){this.d="document-lock";this.j=a;this.k=b}z(kg,hg);function W(a,b,c,d){jg.call(this,d||"update-record",a,b.o);this.F=b.g();this.j={};a=b.j;c=c||[];for(var e in a)this.j[e]=0<=E(c,e)?ff(b,e):b.d[e]}z(W,jg);W.prototype.g=aa("F");function X(){M.call(this)}z(X,M);X.prototype.p=function(a){if(!(0<=E(this.g(),a.o)))throw Error("Cannot create operations for an unsupported record type "+a.o);return this.k(a)};X.prototype.k=function(a,b){var c=this.j(a),d=[];d.push(new W(c,a,b));(c=a.B())&&d.push(new kg(c.d,1));return d};X.prototype.j=function(a){throw Error("Key cannot be obtained for record of type "+a.o);};X.prototype.d=function(a){return ig(a)?0<=E(this.g(),a.v):!1};function lg(a){M.call(this);this.B=a}z(lg,X);lg.prototype.g=function(){return[2]};function mg(a,b){var c=a.B[b];if(!c)throw Error("No adapter found for this type: "+b);return c}lg.prototype.d=function(a){var b=a.d;return"append-commands"==b||"unstage-commands"==b||"write-trix"==b?!0:lg.w.d.call(this,a)};lg.prototype.k=function(a){var b=lg.w.k.call(this,a,["lastModifiedClientTimestamp","ic"]);mg(this,of(a));return b.concat([])};lg.prototype.j=function(a){return a.d.id};var ng={Jb:"l",Lb:"s",Kb:"r"};function og(a,b,c,d){lg.call(this,d);this.o=a;this.q=c}z(og,lg);function pg(a,b,c,d,e){if(a.o.g)O(w(d,[]));else{var f=Nd(a.o,["Documents","DocumentCommandsMetadata","DocumentCommandsMetadataStaging"],"Error reading documents.",e);qg(a,b,c,function(a){Uf(f);d(a)},f)}}function rg(a,b,c){pg(a,b,null,c,void 0)}function sg(a,b,c,d){pg(a,null,b,function(a){1==a.length?c(a[0]):c(null)},d)}
function qg(a,b,c,d,e){var f=T(e,"DocumentCommandsMetadata");U(rf(f,c?[c]:void 0,c?[c,[]]:void 0),u(a.xc,a,b,c,d,e,{}))}l=og.prototype;l.xc=function(a,b,c,d,e,f){(f=f.target.result)?(e[f.value.dcmKey[0]]=!0,f["continue"]()):(f=T(d,"DocumentCommandsMetadataStaging"),U(rf(f,b?[b]:void 0,b?[b,[]]:void 0),u(this.yc,this,a,b,c,d,{},e)))};l.yc=function(a,b,c,d,e,f,g){(g=g.target.result)?(a=g.value.dcmKey[0],f[a]||(e[a]=!0),g["continue"]()):tg(this,a,b,c,d,e)};
function tg(a,b,c,d,e,f){c?U(T(e,"Documents").get(c),u(function(a){(a=a.target.result)?d([this.ub(b,f,!0,a)]):d([])},a)):vf(e,u(a.ub,a,b,f,!0),d)}l.ub=function(a,b,c,d){if(b[d.id]||c&&d.hpmdo)return null;a=this.oa(a,d);if(!a)return null;a.p=!1;return of(a),a};
l.oa=function(a,b){if(null!=a&&b.acl&&!n(b.acl[a]))return null;var c=new mf(b.id,b.documentType,!1);c.setTitle(b.title);Q(c,"lastSyncedTimestamp",b.lastSyncedTimestamp);Q(c,"jobset",b.jobset);jf(c,"isFastTrack",!!b.isFastTrack);Q(c,"lastModifiedServerTimestamp",b.lastModifiedServerTimestamp);Q(c,"lastColdStartedTimestamp",b.lastColdStartedTimestamp);Q(c,"lastWarmStartedTimestamp",b.lastWarmStartedTimestamp);var d=b.acl,e;for(e in d)lf(c,"acl",e,d[e]);return c};
l.M=function(a){if(!this.d(a))throw Error("Cannot get object store names for operation type "+a.d);var b=["DocumentCommands","DocumentCommandsStaging","DocumentCommandsMetadata","DocumentCommandsMetadataStaging","Documents"];"delete-record"==a.d&&(b=b.concat(["PendingQueueCommands","PendingQueues"]));return b};l.R=function(a,b){var c=T(b,"Documents");switch(a.d){case "update-record":a.g()?c.add(a.j):this.ab(a,c);break;case "delete-record":ug(this,a,b);break;default:mg(this,a.Bc()).g(a,b)}};
l.ab=function(a,b){vg(this.q,V(a),a.j,b)};function ug(a,b,c){a.Pa(V(b),c,u(function(a){a?(a=new Pd(5,"Pending changes found"),Vf(c,!1,a)):this.fa(b,c)},a))}l.Pa=function(a,b,c){U(rf(T(b,"PendingQueueCommands"),[a],[a,[]]),function(a){c(!!a.target.result)})};
l.fa=function(a,b){var c=V(a),d=T(b,"DocumentCommands");S(d,[c],[c,[]]);d=T(b,"DocumentCommandsStaging");S(d,[c],[c,[]]);d=T(b,"DocumentCommandsMetadata");S(d,[c],[c,[]]);d=T(b,"DocumentCommandsMetadataStaging");S(d,[c],[c,[]]);d=T(b,"PendingQueueCommands");S(d,[c],[c,[]]);d=T(b,"PendingQueues");S(d,c);d=T(b,"Documents");S(d,c);d=T(b,"DocumentLocks");S(d,[c])};function wg(){M.call(this)}z(wg,X);wg.prototype.g=function(){return[5]};wg.prototype.j=function(a){return[a.k(),a.A()]};wg.prototype.d=function(a){return wg.w.d.call(this,a)&&("update-record"==a.d&&a.g()||"delete-record"==a.d)};function xg(){M.call(this)}z(xg,wg);xg.prototype.M=function(){return["Impressions"]};xg.prototype.R=function(a,b){switch(a.d){case "update-record":if(a.g()){var c=T(b,"Impressions"),d=a.j,e={};e.iKey=[d.di,d.ibt];e.iba=d.iba;Rf(c,e)}else throw Error("Impressions may not be updated.");break;case "delete-record":S(T(b,"Impressions"),V(a));break;default:throw Error("Operation type "+a.d+" not supported.");}};function yg(a,b){L.call(this,"b",b)}z(yg,L);function zg(){M.call(this);this.o={}}z(zg,M);function Ag(a,b){for(var c=b.g(),d=0;d<c.length;d++){var e=c[d];if(a.o[e])throw Error("Record type "+e+"already handled by another capability.");a.o[e]=b}}zg.prototype.Ua=h(null);zg.prototype.jb=h(null);function Bg(a){J.call(this);this.g=a;this.d={}}z(Bg,J);var Cg=[];l=Bg.prototype;l.listen=function(a,b,c,d){r(b)||(b&&(Cg[0]=b.toString()),b=Cg);for(var e=0;e<b.length;e++){var f=zd(a,b[e],c||this.handleEvent,d||!1,this.g||this);if(!f)break;this.d[f.key]=f}return this};
l.Ka=function(a,b,c,d,e){if(r(b))for(var f=0;f<b.length;f++)this.Ka(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.g||this,c=Ad(c),d=!!d,b=a&&a[od]?vd(a.Z,String(b),c,d,e):a?(a=Bd(a))?vd(a,b,c,d,e):null:null,b&&(Gd(b),delete this.d[b.key]);return this};l.removeAll=function(){Ya(this.d,Gd);this.d={}};l.C=function(){Bg.w.C.call(this);this.removeAll()};l.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Dg(){M.call(this)}z(Dg,X);Dg.prototype.g=function(){return[]};Dg.prototype.k=function(){throw Error("No operation is supported.");};Dg.prototype.j=function(){throw Error("No record is supported.");};Dg.prototype.d=h(!1);function Eg(){M.call(this)}z(Eg,Dg);Eg.prototype.M=function(){throw Error("No object store available.");};Eg.prototype.R=function(a){throw Error("Operation type "+a.d+" not supported.");};function Fg(){M.call(this)}z(Fg,X);Fg.prototype.g=function(){return[]};function Gg(a,b,c){this.d=a;this.j=b;this.g=c};function Hg(a,b,c,d){M.call(this);this.d=a;this.o=b;this.k=0;this.g=d;this.j=new Bg(this);this.j.listen(c,"c",this.Mb)}z(Hg,M);l=Hg.prototype;l.ma=null;l.Mb=function(){K(this.ma);this.ma=null;var a=window.localStorage;a&&a.setItem("dcl_"+this.d,String(y()))};l.Vb=function(a,b){if(!b){var c=new Pd(2,"Lock not available");Vf(a,!1,c)}};l.Ub=function(a,b,c){1!=c&&this.eb(0,b)};l.eb=function(a,b){K(this.ma);this.ma=null;var c=new Pd(2,"Lock could not be refreshed");Vf(b,!1,c)};
l.cb=function(a,b,c,d,e){if(!this.v){a=e.target.result;var f=null;if(a){a=new Gg(a.e,a.dlKey[0],a.sId);e=a.g;e==this.d&&(f=a.d);if(!(c=c&&e!=this.d)){c=this.d;var g=y();a.d<=g||a.d>g+36E4||a.g==c?c=!0:(c=window.localStorage,c=!!c&&!!c.getItem("dcl_"+a.g));c=!c}if(c){d=y();f={};f.sessionId=this.d;f.lockHoldingSessionId=e;f.validUntil=a.d-d;f.lastWrittenValidUntil=this.k-d;If(this.g,Error("IndexedDB document lock not available"),f);b(!1,null);return}}else if(c){f={};f.sessionId=this.d;If(this.g,Error("IndexedDB document lock not available because the lock does not exist"),
f);b(!1,null);return}d&&N(this,"e");b(!0,f)}};l.Wb=function(a,b,c,d,e,f){if(e){c=w(c,1);e=y();var g=e+6E4;this.k=f=Math.min(Math.max(e+this.o,f||0),g);a=new Gg(f,a,this.d);f={};f.e=a.d;f.dlKey=[a.j];f.sId=a.g;b=Rf(b,f);U(b,Ib(c));d&&Hf(b,Ib(d))}else c(2)};l.C=function(){this.j.K();K(this.ma);Hg.w.C.call(this)};function Ig(a,b,c,d){M.call(this);this.o=new Hg(b,c,a,d);this.o.A=this}z(Ig,Fg);Ig.prototype.M=function(){return["DocumentLocks"]};
Ig.prototype.R=function(a,b){switch(a.d){case "document-lock":switch(a.k){case 2:var c=this.o,d=a.j,e=u(c.Ub,c,d,b),f=u(c.eb,c,d,b),g=T(b,"DocumentLocks"),e=u(c.Wb,c,d,g,e,f),g=g.get([d]);U(g,u(c.cb,c,d,e,!0,!1));f&&Hf(g,Ib(f));break;case 1:c=this.o,d=a.j,f=u(c.Vb,c,b),g=T(b,"DocumentLocks").get([d]),U(g,u(c.cb,c,d,f,!1,!1))}break;default:throw Error("Operation type "+a.d+" not supported.");}};Ig.prototype.C=function(){this.o.K();Ig.w.C.call(this)};var Jg=["sentBundlesSavedRevision"];function Kg(a){W.call(this,a.k(),a,Jg,"pq-clear")}z(Kg,W);function Lg(a){W.call(this,a.k(),a,Jg,"pq-clear-sent-bundle")}z(Lg,W);function Mg(a){W.call(this,a.k(),a,Jg,"pq-clear-sent")}z(Mg,W);function Ng(a,b){this.d="pq-delete-commands";this.j=a;this.k=b}z(Ng,hg);function Og(a){W.call(this,a.k(),a,Jg,"pq-mark-sent");this.k=[];this.p=!1;var b=a.A();if(7==a.D()){this.p=!0;a=a.H();for(var c=0;c<a.length;c++)b++,this.k.push(new Pg(a[c].j(),a[c].g(),b))}else this.k.push(new Pg(a.N(),a.W(),b))}z(Og,W);function Pg(a,b,c){this.g=a;this.d=b;this.j=c};function Qg(a,b,c){this.d="pq-write-commands";this.v=a;this.k=b;this.j=c}z(Qg,hg);function Rg(a){this.d=a}Rg.prototype.g=function(){return[6]};Rg.prototype.j=function(a){return a.k()};
Rg.prototype.p=function(a){var b;var c=a.J();b=this.d[c];if(!b)throw Error("No document adapter available for type "+c);var d=a.D(),c=[];switch(d){case 7:var d=b,c=a.k(),e=a.A(),f=a.H();b=[];for(var g,k=0;k<f.length;k++){e++;g=Sg(f[k].d(),d,a.k(),e,!0);if(!g)throw Error("Unexpected null operation");b.push(g)}e=a.A()+b.length;b.push(new Og(a));(d=Sg(a.G(),d,c,e+1))&&b.push(d);0<=a.A()&&b.push(new Ng(c,a.A()));c=b;break;case 1:d=a.A()+1;e=a.k();c=[];db(a.j)||c.push(new W(e,a));(b=Sg(a.G(),b,e,d))&&
c.push(b);break;case 5:c.push(new Og(a));break;case 2:c.push(new Kg(a));break;case 3:c.push(new Mg(a));break;case 4:c.push(new Lg(a));break;case 6:c.push(new W(a.k(),a,Jg));break;default:throw Error("Unknown Pending Queue operation type: "+d);}(a=a.B())&&c.push(new kg(a.d,1));return c};function Sg(a,b,c,d,e){if(!(e||a&&0!=a.length))return null;e=[];if(a)for(var f=0;f<a.length;f++)e.push(b.d(a[f]));return new Qg(c,e,d)};function Tg(a,b,c,d){this.d=c;this.k=d}z(Tg,Rg);Tg.prototype.M=function(){return["PendingQueueCommands","PendingQueues"]};Tg.prototype.R=function(a,b){a instanceof W&&!a.g()?U(T(b,"PendingQueues").get(V(a)),u(this.v,this,a,b)):Ug(this,a,b)};Tg.prototype.v=function(a,b,c){c=c.target.result;if(!c)throw Error("Tried to update a non-existent pending queue.");Ug(this,a,b,c)};
function Ug(a,b,c,d){if(d){var e=b.j,f=e.revision;null!=f&&(d.r=f);f=e.accessLevel;null!=f&&(d.a=f);f=e.undeliverable;n(f)&&(d.u=!!f);f=e.unsavedChanges;n(f)&&(d.uc=!!f);e=e.sentBundlesSavedRevision;n(e)&&(d.sbsr=e);if(f){a=a.k;try{m.localStorage.setItem("docs-ucb","1")}catch(g){If(a,Error("Error setting unsaved changes bit in Local Storage: "+g.message))}}}switch(b.d){case "pq-clear":d||b.g();d=d||Vg(b);b=V(b);a=T(c,"PendingQueueCommands");S(a,[b],[b,[]]);d.b=[];Wg(d,c);break;case "pq-clear-sent":d||
b.g();d=d||Vg(b);a=d.b;0<a.length&&(a=a[a.length-1].l,e=T(c,"PendingQueueCommands"),b=V(b),S(e,[b],[b,a]),d.b=[]);Wg(d,c);break;case "pq-clear-sent-bundle":d||b.g();d=d||Vg(b);a=d.b.shift().l;e=T(c,"PendingQueueCommands");b=V(b);S(e,[b],[b,a]);Wg(d,c);break;case "pq-mark-sent":d||b.g();d=d||Vg(b);a=b.k;b.p&&(d.b=[]);for(b=0;b<a.length;b++){var e=a[b],f=ng,k={};k[f.Jb]=e.j;k[f.Lb]=e.g;k[f.Kb]=e.d;d.b.push(k)}Wg(d,c);break;case "update-record":d||b.g();b=d||Vg(b);Wg(b,c);break;case "pq-write-commands":d=
b.k;a={};a.pqcKey=[b.v,b.j];a.c=d;Rf(T(c,"PendingQueueCommands"),a);break;case "pq-delete-commands":c=T(c,"PendingQueueCommands");d=b.j;S(c,[d],[d,b.k]);break;default:throw Error("Unsupported operation type: "+b.d);}}function Wg(a,b){Rf(T(b,"PendingQueues"),a)}function Vg(a){a.g();var b=a.j;a={};var c=b.accessLevel;n(c)&&(a.a=c);a.docId=b.docId;a.r=b.revision;a.b=[];a.t=b.documentType;a.u=!!b.undeliverable;a.uc=!!b.unsavedChanges;b=b.sentBundlesSavedRevision;null!=b&&(a.sbsr=b);return a};function Xg(a,b,c){df.call(this,a,c);Q(this,"dataType",b)}z(Xg,df);function Yg(){}function vg(a,b,c,d,e){c&&U(rf(d,b),u(a.d,a,c,e||[]))}Yg.prototype.d=function(a,b,c){if(c=c.target.result){var d=c.value,e;for(e in a){var f=a[e];0<=E(b,e)?d[e]=null!=f?f:null:d[e]=f}c.update(d)}else throw Error("Could not find object to update.");};function Zg(a,b,c){var d=Nd(a,["ProfileData"],"Error removing document ids",void 0,!0);$g(b,function(a){for(var f=0;f<c.length;f++)La(a,c[f]);f={};f.dataType=b;f.documentIds=a;Rf(T(d,"ProfileData"),f);Od(d,q)},d)}
function $g(a,b,c){U(T(c,"ProfileData").get(a),function(a){a=a.target.result;b(a&&a.documentIds?a.documentIds:[])})};function ah(){M.call(this)}z(ah,X);ah.prototype.g=function(){return[9]};ah.prototype.k=function(a,b){return ah.w.k.call(this,a,b)};ah.prototype.j=function(a){return a.d.id};ah.prototype.d=function(a){return ah.w.d.call(this,a)&&"delete-record"!=a.d};function bh(a,b,c,d){M.call(this);this.o=a;this.B=c;this.q=d}z(bh,ah);
function ch(a,b,c){if(a.o.g)O(w(b,[]));else if(0<=E(a.o.d.objectStoreNames,"Users")){c=Nd(a.o,["Users"],"Error reading users.",c);var d=[];U(T(c,"Users").get(qf.lowerBound(-Infinity)),u(function(a){if(a=a.target.result){var b=new fg(a.id,!1);Q(b,"managingDomain",a.managingDomain);Q(b,"emailAddress",a.emailAddress);Q(b,"locale",a.locale);Q(b,"optInSecret",a.optInSecret);null!=a.fastTrack&&jf(b,"fastTrack",!!a.fastTrack);null!=a.internal&&jf(b,"internal",!!a.internal);null!=a.optInReasons&&Q(b,"optInReasons",
a.optInReasons);b.p=!1;d=[b]}},a));Od(c,function(){b(d)})}else a.q.log(Error("Reading from uninitialized IDB database.")),O(w(b,[]))}bh.prototype.M=function(a){if(!this.d(a))throw Error("Cannot get object store names for operation type "+a.d);return["Users"]};bh.prototype.R=function(a,b){switch(a.d){case "update-record":var c=T(b,"Users");a.g()?c.add(a.j):vg(this.B,V(a),a.j,c);break;default:throw Error("Operation type "+a.d+" not supported.");}};function dh(a,b,c,d,e){zg.call(this);this.D=e;this.p=new Bg(this);this.g=new Yg;this.d=a;this.p.listen(this.d,"c",this.Gb);this.p.listen(this.d,"a",this.Hb);this.B=b;this.q=new Tg(0,0,this.B,this.D);Ag(this,this.q);this.j=this.va(this.B);Ag(this,this.j);this.H=new Ig(this.d,c,d,this.D);this.k=new bh(a,0,this.g,e);Ag(this,this.k);this.L=new Eg}z(dh,zg);l=dh.prototype;l.va=function(a){return new og(this.d,0,this.g,a)};l.Gb=function(){N(this,new yg)};l.Hb=function(a){N(this,a)};
function Md(a,b){if(ig(b)){var c=b.v,d=a.o[c]||null;if(!d)throw Error("No capability registered for record type "+c);return d}c=b.d;if("pq-clear"==c||"pq-clear-sent"==c||"pq-clear-sent-bundle"==c||"pq-delete-commands"==c||"pq-mark-sent"==c||"pq-write-commands"==c)return a.q;if("document-lock"==c)return a.H;if("append-commands"==c||"unstage-commands"==c||"write-trix"==c)return a.j;if("update-application-metadata"==c&&(d=a.jb()))return d;throw Error("No capability registered for operation type "+c);
}l.initialize=function(a,b){var c=this.ja();if(bg(this.d)>=c)throw Error("Database already at expected version.");cg(this.d,c,u(this.hc,this,b),xf("Error initializing the database.",b),a)};l.hc=function(a,b){try{this.ga(b)}catch(c){O(w(a,new Pd(1,"Failed to initialize database.",c)))}};l.C=function(){lc(this.p,this.H,this.q,this.j,this.k,this.L);dh.w.C.call(this)};function eh(a,b,c,d,e){dh.call(this,a,b,c,d,e);this.ha=new xg;Ag(this,this.ha)}z(eh,dh);"Users Documents DocumentCommands DocumentCommandsStaging DocumentCommandsMetadata DocumentCommandsMetadataStaging DocumentLocks Impressions PendingQueues PendingQueueCommands FileEntities".split(" ").sort(function(a,b){return a>b?1:a<b?-1:0});eh.prototype.ja=h(3);eh.prototype.Da=h(!1);
eh.prototype.ga=function(a){a=a.db;a.createObjectStore("Users",{keyPath:"id"});a.createObjectStore("Documents",{keyPath:"id"});a.createObjectStore("DocumentCommands",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsStaging",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsMetadata",{keyPath:"dcmKey"});a.createObjectStore("DocumentCommandsMetadataStaging",{keyPath:"dcmKey"});a.createObjectStore("DocumentLocks",{keyPath:"dlKey"});a.createObjectStore("Impressions",{keyPath:"iKey"});a.createObjectStore("PendingQueues",
{keyPath:"docId"});a.createObjectStore("PendingQueueCommands",{keyPath:"pqcKey"});a.createObjectStore("FileEntities",{keyPath:"id"}).createIndex("DocIdEntityTypeIndex","docIdEntityTypeIndex")};function fh(){M.call(this)}z(fh,X);fh.prototype.g=function(){return[1]};fh.prototype.j=function(a){return[a.k(),a.A()]};function gh(a,b,c){M.call(this);this.o=c}z(gh,fh);gh.prototype.M=function(){return["Comments"]};
gh.prototype.R=function(a,b){switch(a.d){case "update-record":var c=T(b,"Comments");V(a);if(a.g()){var d=a.j,e={};e.cmtKey=V(a);e.stateIndex=[d.s,d.di];e.da=d.da;Rf(c,e)}else{var d=a.j,e=V(a),f={};"s"in d&&(f.stateIndex=[d.s,e[0]],delete d.s);for(var g in d)f[g]=d[g];vg(this.o,e,f,c)}break;case "delete-record":c=T(b,"Comments");d=V(a);uf(c,d);break;default:throw Error("Operation type "+a.d+" not supported.");}};function hh(a,b,c){W.call(this,a,b,void 0,"update-application-metadata");this.k=c}z(hh,W);function ih(a){M.call(this);this.o=a}z(ih,X);ih.prototype.g=function(){return[0]};ih.prototype.j=function(a){return a.k()};ih.prototype.d=function(a){return"update-application-metadata"==a.d};ih.prototype.k=function(a){var b=this.j(a);return[new hh(b,a,a.D()?a.A().concat():null)]};function jh(a,b,c,d){ih.call(this,c);this.q=d}z(jh,ih);jh.prototype.M=function(a){if(!this.d(a))throw Error("Cannot get object store names for operation type "+a.d);return["ApplicationMetadata"]};
jh.prototype.R=function(a,b){switch(a.d){case "update-application-metadata":var c=V(a),d=this.o[c];if(!d)throw Error("No adapter found for this type: "+c);c=a.j;if(null!=a.k){var e;if(a.k)e=a.k;else throw Error("No new initial commands are available.");for(var f=[],g=0;g<e.length;g++)f.push(d.d(e[g]));c.ic=f}d=T(b,"ApplicationMetadata");a.g()?Rf(d,c):vg(this.q,V(a),c,d);break;default:throw Error("Cannot perform operation of type "+a.d);}};function kh(a,b,c,d){og.call(this,a,0,c,d)}z(kh,og);l=kh.prototype;l.oa=function(a,b){var c=kh.w.oa.call(this,a,b);if(!c)return null;Q(c,"docosKeyData",b.docosKeyData||null);jf(c,"inc",!!b.inc);var d=b.lastModifiedClientTimestamp;null!=d&&Q(c,"lastModifiedClientTimestamp",d);return c};l.M=function(a){var b=kh.w.M.call(this,a);"delete-record"==a.d&&b.push("Comments");return b};l.ab=function(a,b){vg(this.q,V(a),a.j,b,["lastModifiedClientTimestamp"])};
l.Pa=function(a,b,c){kh.w.Pa.call(this,a,b,u(function(d){d?c(!0):lh(a,b,c)},this))};function lh(a,b,c){U(tf(T(b,"Comments"),"StateIndex").get([2,a]),function(a){c(!!a.target.result)})}l.fa=function(a,b){kh.w.fa.call(this,a,b);var c=V(a),d=T(b,"Comments");S(d,[c],[c,[]])};function mh(a,b,c,d,e){eh.call(this,a,b,c,d,e);this.N=this.ob();Ag(this,this.N);this.G=new jh(0,0,b,this.g);Ag(this,this.G)}z(mh,eh);l=mh.prototype;l.ja=h(4);l.ob=function(){return new gh(0,0,this.g)};l.jb=aa("G");l.va=function(a){return new kh(this.d,0,this.g,a)};l.ga=function(a){mh.w.ga.call(this,a);nh(a)};l.Da=h(!0);function oh(a,b,c){cg(a.d,a.ja(),u(a.gc,a,c),xf("Error upgrading the database.",c),b)}l.gc=function(a,b){try{this.Ra(b)}catch(c){O(w(a,new Pd(1,"Failed to upgrade database.",c)))}};
l.Ra=function(a){nh(a)};function nh(a){a=a.db;a.createObjectStore("ApplicationMetadata",{keyPath:"dt"});a.createObjectStore("NewDocumentIds",{keyPath:"dtKey"});a.createObjectStore("Comments",{keyPath:"cmtKey"}).createIndex("StateIndex","stateIndex")};function ph(){M.call(this)}z(ph,X);ph.prototype.g=function(){return[]};function qh(){M.call(this)}z(qh,ph);function rh(){M.call(this)}z(rh,X);rh.prototype.g=function(){return[]};function sh(){M.call(this)}z(sh,rh);function th(a){Xg.call(this,8,"syncstats",a);Q(this,"lastSyncedChangestamp",0);Q(this,"syncVersion",0);Q(this,"lastDailyRunTime",0);Q(this,"maxSpaceQuota",0);Q(this,"webfontsSyncVersion",0);Q(this,"lastStartedSyncDocs",[])}z(th,Xg);function uh(a){a=ef(a,"failedToSyncDocs");return null==a?{}:a};function vh(){M.call(this)}z(vh,X);vh.prototype.g=function(){return[8]};vh.prototype.j=h(null);vh.prototype.d=function(a){return vh.w.d.call(this,a)&&"delete-record"!=a.d};function wh(a,b){M.call(this);this.o=a;this.q=b}z(wh,vh);
function xh(a,b){var c=Nd(a.o,["ProfileData"],"Error reading syncStats.",void 0);U(T(c,"ProfileData").get("syncstats"),function(a){Uf(c);var e=a.target.result;if(e){if("syncstats"!=e.dataType)throw Error("Invalid data type.");a=new th(!1);var f=e.docsToDelete;null!=f&&Q(a,"docsToDelete",f);f=e.enabledMimeTypes;null!=f&&Q(a,"enabledMimeTypes",f);f=e.lastLocalStoreProfileTimestamp;null!=f&&Q(a,"lastLocalStoreProfileTimestamp",f);f=e.lastSyncTimestamp;null!=f&&Q(a,"lastSyncTimestamp",f);f=e.lastSyncedChangestamp;
null!=f&&Q(a,"lastSyncedChangestamp",f);f=e.syncStartTimestamp;null!=f&&Q(a,"syncStartTimestamp",f);f=e.syncVersion;null!=f&&Q(a,"syncVersion",f);f=e.failedToSyncDocs;if(null!=f)for(var g in f){var k=f[g],p=a,x=g,v=k.modelSyncFailCount||0,B=k.serverTime,D={};D.count=k.count;D.modelSyncFailCount=v;D.serverTime=B;k=uh(p);k[x]=D;Q(p,"failedToSyncDocs",k)}g=e.lastDailyRunTime;null!=g&&Q(a,"lastDailyRunTime",g);g=e.maxSpaceQuota;null!=g&&Q(a,"maxSpaceQuota",g);g=e.webfontsSyncVersion;null!=g&&Q(a,"webfontsSyncVersion",
g);g=e.lastStartedSyncDocs;if(null!=g)for(f=0;f<g.length;f++)p=a,D=g[f].timestamp,x={},x.documentId=g[f].documentId,x.timestamp=D,D=kf(p,"lastStartedSyncDocs")||[],D.push(x),D.splice(0,D.length-10),Q(p,"lastStartedSyncDocs",D);e=e.relevantDocuments;null!=e&&Q(a,"relevantDocuments",e);a.p=!1;b(a)}else b(null)})}wh.prototype.M=function(){return["ProfileData"]};
wh.prototype.R=function(a,b){switch(a.d){case "update-record":var c=T(b,"ProfileData");a.g()?Rf(c,a.j):vg(this.q,"syncstats",a.j,c);break;default:throw Error("Operation type "+a.d+" not supported.");}};function yh(a,b,c){M.call(this);this.o=c}z(yh,gh);function zh(a,b,c,d){og.call(this,a,0,c,d)}z(zh,kh);zh.prototype.fa=function(a,b){zh.w.fa.call(this,a,b);var c=V(a);Zg(this.o,"nonsnapshottedocumentids",[c]);Zg(this.o,"missingdocosdocumentids",[c])};function Ah(a,b,c,d,e){mh.call(this,a,b,c,d,e);new qh;new sh;this.J=new wh(this.d,this.g);Ag(this,this.J)}z(Ah,mh);l=Ah.prototype;l.ja=h(5);l.ob=function(){return new yh(0,0,this.g)};l.Ua=aa("J");l.va=function(a){return new zh(this.d,0,this.g,a)};l.Da=h(!0);l.ga=function(a){Ah.w.ga.call(this,a);Bh(a)};l.Ra=function(a){Bh(a)};function Bh(a){a.db.createObjectStore("ProfileData",{keyPath:"dataType"})};function Ch(){M.call(this)}z(Ch,X);Ch.prototype.g=function(){return[3]};Ch.prototype.j=function(a){return[a.k(),a.D(),a.A()]};function Dh(a,b,c){M.call(this);this.o=c}z(Dh,Ch);Dh.prototype.M=function(){return["DocumentEntities"]};Dh.prototype.R=function(a,b){var c=T(b,"DocumentEntities");switch(a.d){case "update-record":if(a.g()){var d={};d.deKey=V(a);d.data=a.j.data;Rf(c,d)}else{d={};d.data=a.j.data;var e=V(a);vg(this.o,e,d,c)}break;case "delete-record":S(c,V(a));break;default:throw Error("Operation type "+a.d+" not supported.");}};function Eh(){M.call(this)}z(Eh,X);Eh.prototype.g=function(){return[7]};Eh.prototype.j=function(a){return a.L()};Eh.prototype.d=function(a){return Eh.w.d.call(this,a)&&"update-record"==a.d&&a.g()};function Fh(){M.call(this)}z(Fh,Eh);Fh.prototype.M=function(){return["SyncObjects"]};Fh.prototype.R=function(a,b){switch(a.d){case "update-record":var c=T(b,"SyncObjects");if(a.g())Rf(c,a.j);else throw Error("SyncObject update is not implemented.");break;default:throw Error("Operation type "+a.d+" not supported.");}};function Gh(a,b,c,d){og.call(this,a,0,c,d)}z(Gh,zh);Gh.prototype.oa=function(a,b){var c=Gh.w.oa.call(this,a,b);if(!c)return null;var d=b.startupHints;if(d)for(var e in d)lf(c,"startupHints",e,d[e]);(d=b.ic)&&Q(c,"ic",d);jf(c,"hpmdo",!!b.hpmdo);jf(c,"ips",!!b.ips);d=b.fact;null!=d&&Q(c,"fact",d);jf(c,"modelNeedsResync",!!b.modelNeedsResync);return c};Gh.prototype.M=function(a){var b=Gh.w.M.call(this,a);"delete-record"==a.d&&b.push("DocumentEntities");return b};
Gh.prototype.fa=function(a,b){Gh.w.fa.call(this,a,b);var c=V(a),d=T(b,"DocumentEntities");S(d,[c],[c,[]])};function Hh(){M.call(this)}z(Hh,X);Hh.prototype.g=function(){return[4]};Hh.prototype.j=function(a){return a.k()};Hh.prototype.d=function(a){return Hh.w.d.call(this,a)?"update-record"==a.d?a.g():!0:!1};function Ih(){M.call(this)}z(Ih,Hh);Ih.prototype.M=function(){return["FontMetadata"]};Ih.prototype.R=function(a,b){var c=T(b,"FontMetadata");switch(a.d){case "update-record":if(a.g())Rf(c,a.j);else throw Error("FontMetadata update is not implemented.");break;case "delete-record":S(c,V(a));break;default:throw Error("Operation type "+a.d+" not supported.");}};function Jh(a,b,c,d,e){Ah.call(this,a,b,c,d,e);this.$=new Dh(0,0,this.g);Ag(this,this.$);this.Ga=new Ih;Ag(this,this.Ga);this.ia=new Fh;Ag(this,this.ia)}z(Jh,Ah);l=Jh.prototype;l.ja=h(6);l.va=function(a){return new Gh(this.d,0,this.g,a)};l.Da=h(!0);l.ga=function(a){Jh.w.ga.call(this,a);Kh(a)};l.Ra=function(a){Kh(a)};
function Kh(a){a=a.db;a.createObjectStore("FontMetadata",{keyPath:"fontFamily"});a.createObjectStore("DocumentEntities",{keyPath:"deKey"});a.createObjectStore("SyncObjects",{keyPath:"keyPath"})};function Lh(a,b,c,d,e,f,g,k,p){M.call(this);this.o=a;this.B=b;this.q=c;this.H=d;this.N=e;this.D=f;this.J=g;this.L=!!k;this.g=p||null;this.d={};this.k={};this.p=-1;this.j=new Le;this.G=!1}z(Lh,M);function Mh(a,b){var c=b.ja();a.p=Math.max(a.p,c);a.d[c]=b}l=Lh.prototype;
l.create=function(a,b){if(this.G)throw Error("The create method can be called only once.");this.G=!0;if(isNaN(this.D))throw Error("Cannot have the target schema version be NaN.");if(this.g)this.lb(this.g);else{if(!fe)throw Error("Cannot create storage adapters for unsupported browser");eg(u(this.lb,this),a,this.o,u(this.cc,this),this.L,b)}return this.j};l.cc=function(a){Re(this.j,a);Nh(this)};
l.lb=function(a){this.g=a;if(this.H)for(var b=this.H(a),c=0;c<b.length;c++)for(var d=b[c],e=d.j,f=2;4>=f;++f){var g=this.k[f];g||(g=this.k[f]={});g[e]=d}-1==this.p&&(Mh(this,new eh(a,this.k[3]||{},this.B,this.q,this.o)),Mh(this,new mh(a,this.k[4]||{},this.B,this.q,this.o)),Mh(this,new Ah(a,this.k[5]||{},this.B,this.q,this.o)),Mh(this,new Jh(a,this.k[6]||{},this.B,this.q,this.o)));this.N?(a=Oh(this),b=Math.min(this.D,this.p),a>=b?(a=this.d[a])?ch(a.k,u(this.qa,this),u(this.Ta,this)):this.qa([]):Ph(this,
a,b)?(a=this.d[a]||this.d[a+1],ch(a.k,u(this.qa,this),u(this.Ta,this))):this.qa([])):Qh(this,null)};l.qa=function(a){0==a.length?(this.g&&this.g.close(),Qe(this.j,new Qd(null,null))):1<a.length?(If(this.o,Error("More than one user in local storage")),this.g&&this.g.close(),Qe(this.j,new Qd(null,null))):Qh(this,a[0])};l.Ta=function(a){this.j.d||(Re(this.j,a),Nh(this))};
function Qh(a,b){var c=Math.min(a.D,a.p),d=Oh(a);if(!a.J&&0>=d)Re(a.j,new Pd(4,"Schema initialization cannot be performed when schema updates are prevented.")),Nh(a);else if(!a.J||d>=c)a.Ja(b);else if(Ph(a,d,c)){var d=d+1,e=u(a.Ja,a,null),f=u(a.$b,a);oh(a.d[d],u(a.kb,a,d,c,e,f),f)}else a.d[c].initialize(u(a.Ja,a,b),u(a.Zb,a))}l.$b=function(a){Re(this.j,a);Nh(this)};l.Zb=function(a){Re(this.j,a);Nh(this)};function Ph(a,b,c){for(b+=1;b<=c;++b)if(null==a.d[b]||!a.d[b].Da())return!1;return!0}
l.kb=function(a,b,c,d){a=Oh(this);a==b?c():(a=a+1,oh(this.d[a],u(this.kb,this,a,b,c,d),d))};l.Ja=function(a){var b=new Ld(this.d[Oh(this)]);kc(b,w(K,this.g));for(var c in this.d)kc(b,w(K,this.d[c]));for(c in this.k){var d=this.k[c],e;for(e in d)kc(b,w(K,d[e]))}Qe(this.j,new Qd(b,a))};function Oh(a){a=a.g?bg(a.g):-1;return 3>a?-1:a}function Nh(a){for(var b in a.d)a.d[b].K();for(b in a.k){var c=a.k[b],d;for(d in c)c[d].K()}K(a.g)};function Rh(a){J.call(this);this.j=a}z(Rh,J);function Sh(){Rh.call(this,"syncstats")}z(Sh,Rh);Sh.prototype.g=q;var Th=!G||G&&9<=Zb;!Tb&&!G||G&&G&&9<=Zb||Tb&&H("1.9.1");G&&H("9");function Uh(a,b){Ya(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Vh?a.setAttribute(Vh[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Vh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Wh(a,b,c){function d(c){c&&b.appendChild(s(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!fa(f)||t(f)&&0<f.nodeType?d(f):Fa(Xh(f)?Na(f):f,d)}}function Xh(a){if(a&&"number"==typeof a.length){if(t(a))return"function"==typeof a.item||"string"==typeof a.item;if(ha(a))return"function"==typeof a.item}return!1}function Yh(a){this.d=a||m.document||document}
Yh.prototype.g=function(a,b,c){var d=this.d,e=arguments,f=e[0],g=e[1];if(!Th&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',ta(g.name),'"');if(g.type){f.push(' type="',ta(g.type),'"');var k={};ib(k,g);delete k.type;g=k}f.push(">");f=f.join("")}f=d.createElement(f);g&&(s(g)?f.className=g:r(g)?f.className=g.join(" "):Uh(f,g));2<e.length&&Wh(d,f,e);return f};function Zh(a,b,c){this.d=b;this.g=ra(a)+(c?",i":"")};function $h(){this.d=[];this.g=[];this.j=[]}function ai(a,b,c,d){a.d.push(new bi(b,c,d))}function ci(a){Oa(a.j,["","/"])}function di(a,b){for(var c=0;c<a.d.length;c++)if(0<=E(a.d[c].j,b))return a.d[c];return 0<=E(a.g,b)?ei(a,3):null}function fi(a,b,c){if(n(c)){c=di(a,c);if(!c)throw Error("No offline action for given online action");var d=E(nf,b),e=E(nf,c.d);if(d>=e)return c.g}a=ei(a,b);if(!a)throw Error("No offline action for given access level or less.");return a.g}
function ei(a,b){var c=E(nf,b);if(-1==c)throw Error("Requested access level is invalid");for(;0<=c;c--)for(var d=0;d<a.d.length;d++)if(a.d[d].d==nf[c])return a.d[d];return null}function bi(a,b,c){this.j=a;this.g=b;this.d=c};function gi(a,b){this.g=a;this.d=[a];b&&(this.d=this.d.concat(b))};function hi(a){this.g=a};function ii(){this.g="unknown"}z(ii,hi);function ji(a,b,c,d,e,f,g,k,p){this.g=a;this.d=k?Oc("//"+k,b):b;this.v=c;this.p=f||"/edit";this.k=d;this.o=e||"id";this.j=p}z(ji,hi);function ki(a,b,c,d){var e=Fc(a.d),f=e[5];(c=c.d)&&(f="/a/"+c+f);b&&a.k&&(f+="/d/"+b);var f=f+(d?d:a.p),g;b&&!a.k&&(a=jb(a.o,b),g=Mc(a));return Dc(e[1],e[2],e[3],e[4],f,g)};function li(a,b,c,d){ji.call(this,"trix",a,b,!1,"key",c,0,d)}z(li,ji);function mi(a){this.g=a;this.d={};this.j=fe}var ni=["/create"];function oi(a,b){var c=b.g;if(a.d[c])throw Error("Already have an adapter installed for type "+c);a.d[c]=b}function pi(a,b){var c=a.d[b];if(!c)throw Error("No offline URL adapter for documents of type "+b);return c}
function qi(a,b){var c=Rd(),d=new Zh(P(a,"locale"),P(a,"managingDomain"),gg(a)),d=new mi(d,F(c,"ondlburl"),F(c,"drdn"),F(c,"drcuap")),e=Fb(c,"launcher-ehs"),f=new $h;ai(f,["/comment","/edit","/preview","/view"],"offline/edit",2);ai(f,[],"offline/view",1);ai(f,[],"offline/comment",4);e&&ci(f);Oa(f.g,ni);f=new gi(f);oi(d,new ji("kix",F(c,"kixOfflineUrl"),f,Fb(c,"udurls"),void 0,void 0,0,b));f=new $h;ai(f,["/comment","/edit","/view"],"offline/edit",2);ai(f,[],"offline/view",1);ai(f,[],"offline/comment",
4);Oa(f.g,ni);var g=new gi(f);oi(d,new ji("drawing",F(c,"drawingsOfflineUrl"),g,Fb(c,"udurls"),void 0,void 0,0,b));g=new $h;ai(g,["/localpresent"],"offline/localpresent",1);f=new gi(f,[g]);e&&ci(g);oi(d,new ji("punch",F(c,"punchOfflineUrl"),f,Fb(c,"udurls"),void 0,void 0,0,b));f=new $h;ai(f,["/ccc","/lv","/m","/edit"],F(c,"trixOfflineUrlSuffix"),1);f=new gi(f);oi(d,new li(F(c,"trixOfflineUrl"),f,F(c,"trixOnlineUrlSuffix"),b));f=new $h;ai(f,["/comment","/edit","/preview","/view"],"offline/edit",2);
ai(f,[],"offline/view",1);ai(f,[],"offline/comment",4);Oa(f.g,ni);e&&ci(f);e=new gi(f);oi(d,new ji("ritz",F(c,"ritzOfflineUrl"),e,Fb(c,"udurls"),void 0,void 0,0,b,function(a){return{dl:a.docLocale}}));oi(d,new ii);return d};function ri(){}ri.prototype.d=null;function si(a){var b;(b=a.d)||(b={},ti(a)&&(b[0]=!0,b[1]=!0),b=a.d=b);return b};var ui;function vi(){}z(vi,ri);function wi(a){return(a=ti(a))?new ActiveXObject(a):new XMLHttpRequest}function ti(a){if(!a.g&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.g=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.g}ui=new vi;function xi(a){M.call(this);this.N=new Lb;this.q=a||null;this.g=!1;this.p=this.d=null;this.G="";this.j=this.D=this.k=this.B=!1;this.H=0;this.o=null;this.L="";this.J=this.$=!1}z(xi,M);var yi=/^https?$/i,zi=["POST","PUT"],Ai=[];l=xi.prototype;l.tc=function(){this.K();La(Ai,this)};
l.send=function(a,b,c,d){if(this.d)throw Error("[goog.net.XhrIo] Object is active with another request="+this.G+"; newUri="+a);b=b?b.toUpperCase():"GET";this.G=a;this.B=!1;this.g=!0;this.d=this.q?wi(this.q):wi(ui);this.p=this.q?si(this.q):si(ui);this.d.onreadystatechange=u(this.Va,this);try{this.D=!0,this.d.open(b,String(a),!0),this.D=!1}catch(e){Bi(this);return}a=c||"";var f=this.N.clone();d&&ec(d,function(a,b){f.set(b,a)});d=Ja(f.Y());c=m.FormData&&a instanceof m.FormData;!(0<=E(zi,b))||d||c||f.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.d.setRequestHeader(b,a)},this);this.L&&(this.d.responseType=this.L);"withCredentials"in this.d&&(this.d.withCredentials=this.$);try{Ci(this),0<this.H&&((this.J=Di(this.d))?(this.d.timeout=this.H,this.d.ontimeout=u(this.Wa,this)):this.o=O(this.Wa,this.H,this)),this.k=!0,this.d.send(a),this.k=!1}catch(g){Bi(this)}};function Di(a){return G&&H(9)&&ga(a.timeout)&&n(a.ontimeout)}
function Ka(a){return"content-type"==a.toLowerCase()}l.Wa=function(){"undefined"!=typeof ba&&this.d&&(N(this,"timeout"),this.d&&this.g&&(this.g=!1,this.j=!0,this.d.abort(),this.j=!1,N(this,"complete"),N(this,"abort"),Ei(this)))};function Bi(a){a.g=!1;a.d&&(a.j=!0,a.d.abort(),a.j=!1);Fi(a);Ei(a)}function Fi(a){a.B||(a.B=!0,N(a,"complete"),N(a,"error"))}l.C=function(){this.d&&(this.g&&(this.g=!1,this.j=!0,this.d.abort(),this.j=!1),Ei(this,!0));xi.w.C.call(this)};
l.Va=function(){this.v||(this.D||this.k||this.j?Gi(this):this.Ma())};l.Ma=function(){Gi(this)};function Gi(a){if(a.g&&"undefined"!=typeof ba&&(!a.p[1]||4!=(a.d?a.d.readyState:0)||2!=a.getStatus()))if(a.k&&4==(a.d?a.d.readyState:0))O(a.Va,0,a);else if(N(a,"readystatechange"),4==(a.d?a.d.readyState:0)){a.g=!1;try{Hi(a)?(N(a,"complete"),N(a,"success")):(a.getStatus(),Fi(a))}finally{Ei(a)}}}
function Ei(a,b){if(a.d){Ci(a);var c=a.d,d=a.p[0]?q:null;a.d=null;a.p=null;b||N(a,"ready");try{c.onreadystatechange=d}catch(e){}}}function Ci(a){a.d&&a.J&&(a.d.ontimeout=null);ga(a.o)&&(m.clearTimeout(a.o),a.o=null)}
function Hi(a){var b=a.getStatus(),c;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break t;default:c=!1}if(!c){if(b=0===b)a=Fc(String(a.G))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!yi.test(a?a.toLowerCase():"");c=b}return c}l.getStatus=function(){try{return 2<(this.d?this.d.readyState:0)?this.d.status:-1}catch(a){return-1}};jd(function(a){xi.prototype.Ma=a(xi.prototype.Ma)});function Ii(a){this.d=a}function Ji(a){return(a=a.d.getItem("optInLog"))?Ra(a):[]}function Ki(){var a=m.localStorage;if(!a)throw Error("Local storage not available");return new Ii(a)};function Li(a,b,c,d,e){this.v=b;this.d=c;this.g=a;this.o=d;this.F=e||F(Rd(),"xtok")}
Li.prototype.p=function(a){var b=a.getStatus();if(200==b){var c;try{c=a.d?a.d.responseText:""}catch(d){c=""}if((a=Ra(c))&&this.g){var e;try{var f=new fg(a.id,!0);Q(f,"emailAddress",a.ea);Q(f,"locale",a.l);Q(f,"managingDomain",a.md);Q(f,"optInSecret",a.s);var g=a.ft;jf(f,"fastTrack",n(g)?g:!0);jf(f,"internal",!!a.i);var k=a.r;null!=k&&Q(f,"optInReasons",k);this.g.write([f],u(this.k,this));e=f}catch(p){throw this.d(),p;}this.j=e}else this.d.call()}else 400==b||409==b?window.location.reload():this.d.call()};
Li.prototype.k=function(){var a=Ki(),b=P(this.j,"emailAddress")||"",c=Ji(a),d={};d.email=b;d.timestamp=y();c.push(d);a.d.setItem("optInLog",Sa(c));m.localStorage&&(a=P(this.j,"optInSecret"),m.localStorage.setItem("docs-ois",a),m.localStorage.removeItem("docs-coo"),m.localStorage.removeItem("docs-uoo"),m.localStorage.removeItem("docs-poir"));this.v.call()};function Mi(){}da(Mi);function Ni(a,b){return cb(a,function(a){return a==b})||""}
var Oi={acad:701,bzip2:781,dxf:702,"epub+zip":703,gzip:771,"gzip-compressed":782,gzipped:783,illustrator:762,javascript:741,msexcel:768,mspowerpoint:767,msword:704,"octet-stream":705,pdf:706,photoshop:744,"pkcs7-signature":707,postscript:708,rar:772,rtf:709,tar:773,"vnd.android.package-archive":710,"vnd.google-apps.document":711,"vnd.google-apps.drawing":712,"vnd.google-apps.drive-sdk.796396377186":788,"vnd.google-apps.folder":745,"vnd.google-apps.form":713,"vnd.google-apps.freebird":746,"vnd.google-apps.fusiontable":764,
"vnd.google-apps.kix":747,"vnd.google-apps.map":789,"vnd.google-apps.presentation":714,"vnd.google-apps.punch":748,"vnd.google-apps.ritz":765,"vnd.google-apps.script":766,"vnd.google-apps.sites":763,"vnd.google-apps.spreadsheet":715,"vnd.google-apps.video":742,"vnd.google-earth.kmz":716,"vnd.ms-excel":717,"vnd.ms-excel.sheet.binary.macroEnabled.12":749,"vnd.ms-excel.sheet.macroEnabled.12":750,"vnd.ms-powerpoint":718,"vnd.ms-powerpoint.presentation.macroEnabled.12":751,"vnd.ms-powerpoint.slideshow.macroEnabled.12":752,
"vnd.ms-powerpoint.template.macroEnabled.12":753,"vnd.ms-project":719,"vnd.ms-word":769,"vnd.ms-word.document.macroEnabled.12":758,"vnd.ms-works":720,"vnd.ms-xpsdocument":721,"vnd.oasis.opendocument.graphics":761,"vnd.oasis.opendocument.presentation":760,"vnd.oasis.opendocument.spreadsheet":722,"vnd.oasis.opendocument.text":757,"vnd.openxmlformats-officedocument.presentationml.presentation":724,"vnd.openxmlformats-officedocument.presentationml.slideshow":754,"vnd.openxmlformats-officedocument.presentationml.template":755,
"vnd.openxmlformats-officedocument.spreadsheetml.sheet":759,"vnd.openxmlformats-officedocument.wordprocessingml.document":723,"vnd.openxmlformats-officedocument.wordprocessingml.template":756,"vnd.visio":725,"x-7z-compressed":726,"x-bzip":774,"x-bzip-compressed-tar":775,"x-bzip2":776,"x-gtar":784,"x-gtar-compressed":785,"x-gunzip":786,"x-font-ttf":727,"x-gzip":728,"x-gzip-compressed":777,"x-httpd-php":729,"x-iwork-keynote-sffkey":730,"x-iwork-numbers-sffnumbers":731,"x-iwork-pages-sffpages":732,"x-javascript":743,
"x-lzh":733,"x-ms-publisher":734,"x-ms-shortcut":735,"x-ms-wmz":736,"x-rar":770,"x-rar-compressed":737,"x-shockwave-flash":738,"x-tar":778,"x-tgz":787,"x-tex":739,"x-zip":779,"x-zip-compressed":780,zip:740},Pi={"3gp":107,midi:101,"mp4a-latm":102,mpeg:103,mpeg3:104,ogg:108,"x-ms-wma":105,"x-wav":106,wav:109},Qi={"chemical/x-gamess-input":201,"gzip/document":1101,"message/rfc822":401,"link/article":8},Ri={bmp:301,gif:302,jpeg:303,png:304,"svg+xml":309,tiff:305,"vnd.adobe.photoshop":326,"vnd.dwg":306,
"vnd.microsoft.icon":327,"x-adobe-dng":310,"x-canon-cr2":311,"x-canon-crw":312,"x-coreldraw":307,"x-fuji-raf":313,"x-kodak-kdc":314,"x-minolta-mrw":315,"x-nikon-nef":317,"x-nikon-nrw":318,"x-olympus-orf":319,"x-panasonic-rw2":320,"x-pentax-pef":321,"x-photoshop":308,"x-ms-bmp":316,"x-sony-sr2":323,"x-sony-srf":324,"x-raw":322,webp:325},Si={"x-gzip":1001,"x-rar":1002,"x-tar":1005,"x-zip":1003,zip:1004},Ti={calendar:501,css:502,csv:503,ecmascript:515,html:504,javascript:516,plain:505,"x-c++hdr":518,
"x-c++src":507,"x-chdr":517,"x-csrc":506,"x-hwp":508,"x-java":509,"x-java-source":510,"x-objcsrc":511,"x-sql":512,"x-vcard":513,xml:514},Ui={"3gpp":601,avi:602,dv:619,flv:603,mp2p:618,mp2t:617,mp4:604,mpeg:605,mpv:616,ogg:615,quicktime:606,webm:614,"x-dv":613,"x-flv":607,"x-m4v":610,"x-matroska":612,"x-ms-asf":611,"x-ms-wmv":608,"x-msvideo":609,"x-shockwave-flash":620,"x-youtube":621};function Vi(a){var b=a.d.id,c=P(a,"title"),d;d=gf(a,"lastModifiedClientTimestamp");var e=gf(a,"lastModifiedServerTimestamp");d=null!=d&&null!=e?Math.max(d,e):null!=e?e:null!=d?d:null;e=of(a);Mi.X();if(e=Wi[e]){var f;t:{var g=[Oi,Pi,Ri,Si,Ti,Ui];for(f=0;f<g.length;f++){var k=g[f],p;i:{p=k;var x=void 0;for(x in p)if(p[x]==e){p=!0;break i}p=!1}if(p){f=k;break t}}f=Qi}g=f==Oi?"application":f==Pi?"audio":f==Ri?"image":f==Si?"multipart":f==Ti?"text":f==Ui?"video":"";e=Ni(f,e);e=g?g+"/"+e:e}else e=null;
g=!hf(a,"inc");f=ff(a,"acl");p=k=0;if(f)for(var v in f)k=f[v],p++;a=1==p?k:0==p&&"trix"==of(a)?1:0;v=new wb;b&&pb(v,1,b);c&&v.setTitle(c);null!=d&&pb(v,11,d);e&&pb(v,4,e);a&&pb(v,25,Xi[a]);pb(v,51,!g);pb(v,49,!0);return v}function Yi(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e;if(e=!hf(d,"inc"))e=null!=P(d,"title");e&&b.push(Vi(d))}return b}var Wi={kix:711,trix:715,drawing:712,punch:714,ritz:715},Xi={3:1,2:3,4:4,1:2};function Zi(a,b){L.call(this,"f",b);this.error=a}z(Zi,L);function $i(a,b,c){M.call(this);this.g=b;this.d=a;this.j=c}z($i,M);var aj={drawing:"application/vnd.google-apps.drawing",kix:"application/vnd.google-apps.kix",punch:"application/vnd.google-apps.punch",trix:"application/vnd.google-apps.spreadsheet",ritz:"application/vnd.google-apps.ritz"},bj={drawing:"drawing",kix:"kix",punch:"punch",trix:"spread",ritz:"ritz"},cj=Gb(Eb.X(),"lssv");l=$i.prototype;l.V=null;l.ra=null;l.Za=null;l.sc=function(a){dj(this.g,a)};l.bb=function(a){N(this,new Zi(a))};
l.open=function(a,b){var c=new Lh(this.g,"LocalStoreAdapterLockSessionId",0,u(this.oc,this),!1,cj,!0);kc(this,w(K,c));Se(c.create(u(this.sc,this)),u(this.qc,this,a,b),u(this.bb,this))};l.oc=function(){return[new Sh]};l.qc=function(a,b,c){this.V=c.g;c.d?this.fb(a,b,[c.d]):ch(this.V.d.k,u(this.fb,this,a,b),u(this.bb,this))};l.fb=function(a,b,c){1==c.length?c[0].d.id==this.d?(this.ra=c[0],this.Za=qi(this.ra,this.j),a()):b(5,P(c[0],"emailAddress")):b(6)};
function ej(a,b){rg(a.V.d.j,a.d,function(a){a=Ha(a,function(a){return a.d.id});b(a)})}function fj(a,b,c){rg(a.V.d.j,a.d,u(function(a){b(c(a))},a))}function gj(a,b,c,d){var e=[],f=0;Fa(b,function(a){sg(this.V.d.j,a,u(function(a){a&&e.push(a);f++;f>=b.length&&c(d(e))},this),u(function(){f++;f>=b.length&&c(d(e))},this))},a)}l.hb=function(a){for(var b=[],c=0;c<a.length;c++)null!=P(a[c],"title")&&b.push(hj(this,a[c]));return b};
function hj(a,b){var c={};c.id=b.d.id;c.mimeType=aj[of(b)];c.serviceId=bj[of(b)];var d=gf(b,"lastModifiedServerTimestamp");d&&(c.lastEditedUtc=d);(d=gf(b,"lastModifiedClientTimestamp"))&&(c.lastEditedLocalUtc=d);var e=a.Za,f=a.ra,g,d=f.d.id,k=ff(b,"acl"),d=k?k[d]||null:null;g=null!=d?d:"trix"==of(b)?1:0;e.j||(g=1);var d=pf(b),p;switch(2){case 0:p=m.location.href;break;case 1:if(!n(void 0))throw Error("Action path is needed to build warm start action URL.");p=ki(pi(e,d.type),b.d.id,e.g,void 0);break;
case 3:k=m.window.location.href;p=k.indexOf("#");if(k=Hc(0>p?null:k.substr(p+1))){k=k.split("&");p={};for(var x=0;x<k.length;++x){var v=k[x].split("=");2==v.length&&0<v[0].length&&0<v[1].length&&(p[sa(v[0])]=sa(v[1]))}k=p}else k={};p=k.turl||"";break;default:p=ki(pi(e,d.type),b.d.id,e.g)}d=pi(e,d.type);k=e.g;e=p;x=f.d.id;t:{f=d.v;if(n(void 0)){for(p=0;p<f.d.length;p++)if(v=f.d[p],di(v,void 0)){v=fi(v,g,void 0);break t}throw Error("No action group for the given online action");}v=fi(f.g,g)}var B=Fb(Rd(),
"docs-offline-gcsuwo");p=pf(b);f=kf(b,"docosKeyData");g=p.Tb;p=p.Sb;var x=B?x:null,D=k.d,B=d.d;D&&!x&&(B=Fc(d.d),B=Oc(Dc(B[1],B[2],B[3],B[4]),"/a/"+D),(D=Hc(Fc(d.d)[5]||null,!0))&&(B=Oc(B,D)));B=Oc(B,v);v=[];x&&v.push("ouid="+ra(x));v.push("uc="+k.g);g&&v.push("jobset="+g);p&&v.push("ftrack=1");f&&(k=f[28])&&v.push("docosJobset="+k);k=B+="?"+v.join("&");f={};f.id=b.d.id;t:{if(g=kf(b,"docosKeyData")){if(r(g)){g=0==g.length?"c":"d";break t}throw Error("Non-array keyData");}g=null}g&&(f.cm=g);f["new"]=
String(!!hf(b,"inc"));f.ouri=e;(e=ef(b,"startupHints"))&&d.j&&ib(f,d.j(e));var d="",xb;for(xb in f)0<d.length&&(d+="&"),d+=ra(xb)+"="+ra(f[xb]);xb=ra(d);d=k.indexOf("#");c.offline_open_url=(0>d?k:k.substr(0,d))+(xb?"#"+xb:"");c.offline_stub=!0;c.name=P(b,"title");c.attributeMask=fd.markedForOffline;c.attributeMask=fd.subscribed;return c}l.C=function(){$i.w.C.call(this);this.V=null};function ij(){try{var a=m.localStorage;if(a&&(fe||ge||G)&&(a.setItem("test","test"),"test"==a.getItem("test")&&(a.removeItem("test"),null==a.getItem("test"))))return!0}catch(b){}return!1};function jj(a){J.call(this);this.g=a}z(jj,J);jj.prototype.d=function(a){return kj(this,a)};function lj(a,b){return(b?"__wrapper_":"__protected_")+(a[ia]||(a[ia]=++ja))+"__"}function kj(a,b){var c=lj(a,!0);b[c]||((b[c]=mj(a,b))[lj(a,!1)]=b);return b[c]}function mj(a,b){function c(){if(a.v)return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(c){throw a.g(c),new nj(c);}finally{}}c[lj(a,!1)]=b;return c}
function oj(a,b){var c=ca("window"),d=c[b];c[b]=function(b,c){s(b)&&(b=w(ma,b));b=kj(a,b);return d.call?d.call(this,b,c):d(b,c)};c[b][lj(a,!1)]=d}jj.prototype.C=function(){var a=ca("window"),b;b=a.setTimeout;b=b[lj(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[lj(this,!1)]||b;a.setInterval=b;jj.w.C.call(this)};function nj(a){A.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=(this.cause=a)&&a.stack)&&s(a)&&(this.stack=a)}z(nj,A);function pj(a,b,c){M.call(this);this.k=b||null;this.j={};this.o=qj;this.q=a;if(!c)if(this.d=null,G&&!H("10"))xc(u(this.g,this));else{this.d=new jj(u(this.g,this));oj(this.d,"setTimeout");oj(this.d,"setInterval");a=this.d;b=ca("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&oj(a,e)}a=this.d;id=!0;b=u(a.d,a);for(c=0;c<gd.length;c++)gd[c](b);hd.push(a)}}z(pj,M);
function rj(a,b){L.call(this,"g");this.error=a;this.d=b}z(rj,L);function qj(a,b,c,d){var e=new xi;Ai.push(e);e.Z.add("ready",e.tc,!0,void 0,void 0);e.send(a,b,c,d)}
pj.prototype.g=function(a,b){var c=yc(a),d=b?fb(b):{};if(this.k)try{this.k(c,d)}catch(e){}var f=c.stack;try{var g=Nc(this.q,"script",c.fileName,"error",c.message.substring(0,2E3),"line",c.lineNumber);db(this.j)||(g=Ic(Lc([g],this.j)));var k={};k.trace=f;if(d)for(var p in d)k["context."+p]=d[p];var x=Mc(k);ga(null)&&(x=x.substring(0,null));this.o(g,"POST",x,this.p)}catch(v){}try{N(this,new rj(c,d))}catch(B){}};pj.prototype.C=function(){K(this.d);pj.w.C.call(this)};function sj(a){this.g=0;this.j=a||100;this.d=[]}l=sj.prototype;l.add=function(a){var b=this.d[this.g];this.d[this.g]=a;this.g=(this.g+1)%this.j;return b};l.get=function(a){a=tj(this,a);return this.d[a]};l.set=function(a,b){a=tj(this,a);this.d[a]=b};l.S=function(){return this.d.length};l.clear=function(){this.g=this.d.length=0};l.P=function(){for(var a=this.S(),b=this.S(),c=[],a=this.S()-a;a<b;a++)c.push(this.get(a));return c};l.Y=function(){for(var a=[],b=this.S(),c=0;c<b;c++)a[c]=c;return a};
function uj(a){return 0==a.S()?null:a.get(a.S()-1)}function tj(a,b){if(b>=a.d.length)throw Error("Out of bounds exception");return a.d.length<a.j?b:(a.g+Number(b))%a.j};function vj(a){this.j=a;this.g=Math.floor(a/50);this.d=new sj(50)}vj.prototype.get=function(a){return wj(this,a,function(a,c){return a+c.count})};function wj(a,b,c){b=b||y();xj(a,b);var d=0;b=a.g*(Math.floor(b/a.g)+1)-a.j;for(var e=a.d.S()-1;0<=e;--e){var f=a.d.get(e);if(f.end<=b)break;d=c(d,f)}return d}function xj(a,b){var c=uj(a.d);c&&b<c.end-a.g&&a.d.clear()}function yj(a){this.end=a}yj.prototype.count=0;yj.prototype.min=Number.MAX_VALUE;yj.prototype.max=Number.MIN_VALUE;function zj(){this.d=new vj(8E3)}function Aj(a){A.call(this,a)}z(Aj,A);function Bj(a,b,c){J.call(this);this.g=a;this.o=b||0;this.j=c;this.k=u(this.p,this)}z(Bj,J);Bj.prototype.d=0;Bj.prototype.C=function(){Bj.w.C.call(this);this.stop();delete this.g;delete this.j};Bj.prototype.stop=function(){0!=this.d&&m.clearTimeout(this.d);this.d=0};Bj.prototype.p=function(){this.d=0;this.g&&this.g.call(this.j)};function Cj(a){J.call(this);this.g=new xi;this.B=new Bj(this.p,3E4,this);this.J=new zj;this.D=!1;this.q=new Bg(this);this.H=a||10;this.q.listen(this.g,"complete",this.G);this.q.listen(this.g,"ready",this.p)}z(Cj,J);Cj.prototype.send=function(a,b,c,d){if(!(this.la()>=this.H)){var e={};e.u=a;e.m=b;e.c=c;e.h=d;this.qb(e);this.p()}};
Cj.prototype.p=function(){if(0<this.la()&&0==this.B.d&&!this.g.d&&!this.D){var a=this.Ia();if(a)if(4E3<a.u.length)this.ua();else try{var b=this.J;if(!(1>=(b.d.get()+1)/(b.d.j/1E3)))throw new Aj(Ba("Query would cause ","errorsender"," to exceed ",1," qps."));var c=b.d,d=y();xj(c,d);var e=uj(c.d);if(!e||d>=e.end)e=new yj(c.g*(Math.floor(d/c.g)+1)),c.d.add(e);e.count+=1;e.min=Math.min(1,e.min);e.max=Math.max(1,e.max);this.g.send(a.u,a.m,a.c,a.h)}catch(f){if(f instanceof Aj)this.D=!0;else throw f;}}};
Cj.prototype.G=function(){var a=this.g.getStatus();Hi(this.g)||400<=a&&500>=a?this.ua():(a=this.B,a.stop(),a.d=O(a.k,n(void 0)?void 0:a.o))};Cj.prototype.C=function(){lc(this.q,this.B,this.g);Cj.w.C.call(this)};function Dj(a,b){Cj.call(this,b);this.A=a;this.o=a+"-v";this.j=a+"-f";this.k=a+"-n";this.d=m.localStorage;ij();var c=Ej(this,this.o);if(!c||1>c)this.d.setItem(this.o,"1"),this.d.setItem(this.j,"1"),this.d.setItem(this.k,"1");this.p()}z(Dj,Cj);l=Dj.prototype;l.qb=function(a){var b=Ej(this,this.k);b&&1==Ej(this,this.o)&&(this.d.setItem(this.k,String(b+1)),this.d.setItem(this.A+"-e-"+b,Sa(a)))};
l.ua=function(){var a=Ej(this,this.j);a&&1==Ej(this,this.o)&&(this.d.removeItem(this.A+"-e-"+a),a++,this.d.setItem(this.j,String(a)),0==this.la()&&(this.d.setItem(this.j,"1"),this.d.setItem(this.k,"1")))};l.Ia=function(){var a=Ej(this,this.j);if(!a||1!=Ej(this,this.o)||1>this.la())return null;try{var b=this.d.getItem(this.A+"-e-"+a);if(b){var c=Qa(b);if(c)return c}}catch(d){}this.ua();return this.Ia()};l.la=function(){return Ej(this,this.k)-Ej(this,this.j)};
function Ej(a,b){var c=parseInt(a.d.getItem(b),10);return 0>c||isNaN(c)?null:c}l.C=function(){delete this.d;Dj.w.C.call(this)};function Fj(a){Cj.call(this,a);this.d=[]}z(Fj,Cj);l=Fj.prototype;l.qb=function(a){this.d.push(a)};l.ua=function(){this.d.shift()};l.Ia=function(){return n(this.d[0])?this.d[0]:null};l.la=function(){return this.d.length};l.C=function(){delete this.d;Fj.w.C.call(this)};function Y(a){return Y.d(a)}Y.d=function(a){return a+"_"};Y.o=function(){throw Error("xid.literal must not be used in COMPILED mode.");};Y.k=function(a){if(a&&a.constructor&&a.constructor.toString()===Object.toString()){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[Y.d(c)]=a[c]);return b}throw Error("xid.object must be called with an object literal.");};Y.g=!0;Y.j=function(a){return a};Y.v=function(){return"a_"!=Y("a")};function Z(a){this.d=a}Z.prototype.toString=aa("d");new Z(Y("goog.ui.ActivityMonitor"));new Z(Y("fava.app.AppLifetimeService"));new Z(Y("fava.base.AsyncOperationServices"));new Z(Y("fava.net.BrowserChannelServices"));new Z(Y("fava.canvas.CanvasService"));new Z(Y("fava.canvas.CanvasConfiguration"));new Z(Y("fava.diagnostics.CsiService"));new Z(Y("fava.data.DataServices"));new Z(Y("fava.data.DataStoreUpdaterService"));new Z(Y("fava.locale.DateTimeFormatService"));new Z(Y("fava.debug.DeobfuscationService"));new Z(Y("fava.diagnostics.Diagnostics"));new Z(Y("fava.component.DomServices"));
new Z(Y("fava.app.DragDropService"));new Z(Y("fava.browser.ExportService"));new Z(Y("fava.layout.FixedLayoutHelper"));new Z(Y("fava.gbar.GbarService"));new Z(Y("fava.gloader.GoogleLoaderService"));new Z(Y("fava.controls.help.HelpOverlayService"));new Z(Y("fava.view.HistoryInterface"));new Z(Y("fava.view.HistoryManager"));new Z(Y("fava.view.HistoryRegistry"));new Z(Y("fava.identity.IdentityService"));new Z(Y("fava.browser.IeCutCopyHandle"));new Z(Y("fava.diagnostics.Impressions"));new Z(Y("fava.browser.KeyboardShortcutHandler"));
new Z(Y("fava.browser.KeyboardShortcutRegistry"));new Z(Y("fava.mail.MailServices"));new Z(Y("fava.controls.mole.MoleManager"));new Z(Y("fava.app.NavBarService"));new Z(Y("fava.view.NavigationServices"));new Z(Y("fava.net.NetworkDiagnosticsService"));new Z(Y("fava.app.NotificationService"));new Z(Y("fava.request.OauthService"));new Z(Y("fava.net.OfflineServices"));new Z(Y("fava.modules.PrefetchService"));new Z(Y("fava.controls.RelativeDateControl"));new Z(Y("fava.request.RequestService"));new Z(Y("fava.base.Scheduler"));
new Z(Y("fava.net.ServerErrorService"));new Z(Y("fava.dom.SoyRenderer"));new Z(Y("fava.dom.SoyRendererConfig"));new Z(Y("fava.app.TearoffManager"));new Z(Y("fava.app.TearoffSharedData"));new Z(Y("fava.app.TearoffRegistry"));new Z(Y("fava.app.TitleBar"));new Z(Y("fava.controls.Toast"));new Z(Y("fava.app.UserActionService"));new Z(Y("fava.browser.ViewportServices"));new Z(Y("fava.diagnostics.ViewDiagnostics"));new Z(Y("fava.view.ViewManagerInterface"));new Z(Y("fava.view.ViewRegistry"));new Z(Y("fava.browser.WindowService"));
new Z(Y("fava.browser.WindowOpenerUtil"));new Z(Y("fava.app.WindowWidget"));new Z(Y("fava.request.XsrfService"));function Gj(a,b,c,d,e,f){M.call(this);this.o={};this.d=null;this.D={};this.k=new Bg(this);this.H=!!a;this.G=!!e;this.B=f||Hj;this.j=null;b&&ij()?this.j=new Dj(b,c):this.j=new Fj(c);a=F(Rd(),"docs-sup");a+="/jserror";(b=F(Rd(),"jobset"))&&(a=Nc(a,"jobset",b));if(Ij)throw Error("ErrorReporter already installed.");Ij=!0;b=u(this.Eb,this);this.d=new pj(a,b,void 0);this.d.p={"X-Same-Domain":"1","X-No-Abort":"1"};a=u(this.Fb,this);this.d.o=a;this.k.listen(this.d,"g",this.Db);this.p=!1;this.q=!0;this.g=
!1}z(Gj,M);var Ij=!1;function Hj(){if(window.confirm("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var a=window;a.onbeforeunload=q;a.location.reload()}}function dj(a,b){a.g=!1;var c=Jj("fatal",void 0);if(!a.d)throw b;a.d.g(b,c)}function If(a,b,c){a.g=!1;a.d&&a.d.g(b,Jj("incident",c))}l=Gj.prototype;l.log=function(a,b,c){this.g=!!c;b=Jj("incident",b);if(!this.d)throw a;this.d.g(a,b)};
function Gf(a,b,c,d){return u(function(a){var f;t:{var g=!!d,k=arguments;if(this.d){try{f=b.apply(c,k);break t}catch(p){if(dj(this,p),g)throw p;}f=void 0}else f=b.apply(c,k)}return f},a)}function Jj(a,b){var c=b?fb(b):{};c.severity=a;return c}l.Db=function(a){var b=a.d.severity;"warning"==b||"incident"==b||"warningafterdeath"==b?N(this,"i"):(b=fb(a.error),a.error.propertyIsEnumerable("message")||(b.message=a.error.message),ib(b,a.d),this.G||(this.H?this.B(Sa(b)):this.B()),N(this,"h"))};
l.Eb=function(a,b){for(var c in this.o)try{b[c]=this.o[c]()}catch(d){}ib(b,this.D);c=b.severity||"fatal";this.p?(this.q=this.g||!Fb(Rd(),"docs-spfe"),"fatal"==c?c="postmortem":"incident"==c&&(c="warningafterdeath")):"fatal"==c&&(this.p=!0);this.g=!1;b.severity=c};l.Fb=function(a,b,c,d){this.q&&this.j.send(a,b,c,d)};l.C=function(){Ij=!1;lc(this.k,this.d,this.j);Gj.w.C.call(this)};var Kj=window.navigator?window.navigator.webkitTemporaryStorage||null:null,Lj=window.navigator?window.navigator.webkitPersistentStorage||null:null;function Mj(a,b,c){var d="persistent"==a?Lj:Kj;d?d.queryUsageAndQuota(b,function(a){c("queryUsageAndQuota failed: "+a.code)}):m.webkitStorageInfo?(d=m.webkitStorageInfo,d.queryUsageAndQuota("persistent"==a?d.PERSISTENT:d.TEMPORARY,b,function(a){c("queryUsageAndQuota failed: "+a.code)})):c("webkitStorageInfo not available in this browser.")}
function Nj(a,b){Mj("temporary",function(c){Mj("persistent",function(b,e){var f=c+b;a(f,e-f)},b)},b)};function Oj(a,b,c){this.url=a;this.onMessage=b;this.k=c;this.d=new Bg(this)}z(Oj,J);Oj.prototype.C=function(){K(this.d);delete this.d;Oj.w.C.call(this)};function $(a,b){return{type:a,data:b}}function Pj(a,b,c){return{type:a,data:b,id:c}}function Qj(a,b){return $("event",$(a,b))};function Rj(a,b,c,d,e){Oj.call(this,a,b,c);this.g=d||oa||(oa=new Yh);this.j=m.location.protocol+"//"+(e||m.location.hostname)}z(Rj,Oj);l=Rj.prototype;l.aa=null;l.Qa=!1;l.initialize=function(){this.aa||(this.aa=this.g.g("iframe",{style:"display:none",src:this.url}),this.d.listen(m.window,"message",u(this.ac,this)),this.g.d.body.appendChild(this.aa))};l.pb=function(){return!!this.aa&&!this.Qa};l.connect=function(){var a=$("swp","connect");this.postMessage(a);this.Qa=!1;return!0};
l.ac=function(a){var b=a.d||null;if(b&&b.origin==this.j&&b.source==this.aa.contentWindow)this.onMessage(a)};l.disconnect=function(){if(this.aa){var a=$("swp","disconnect");this.postMessage(a)}this.Qa=!0};l.postMessage=function(a){this.aa&&this.aa.contentWindow.postMessage(a,this.j)};function Sj(a,b,c){Oj.call(this,a,b,c)}z(Sj,Oj);l=Sj.prototype;l.T=null;l.initialize=q;l.pb=function(){return!!this.T};l.connect=function(){this.T=new SharedWorker(this.url.toString())||null;if(!this.T)return!1;this.d.listen(this.T,"error",this.k).listen(this.T.port,"message",this.onMessage);this.T.port.start();return!0};l.disconnect=function(){this.T&&(this.d.removeAll(),this.T.port.close(),this.T=null)};l.postMessage=function(a){this.T&&(s(a)||(a=Sa(a)),this.T.port.postMessage(a))};function Tj(a,b,c,d,e,f,g){M.call(this);g=!!g;a=new Pc(a);a.d.set("ouid",b);g&&a.d.set("coldstart","true");this.j=a;this.k=c;this.d={};b=u(this.Ob,this);c=u(this.Nb,this);this.g=d?new Rj(this.j||"",c,b,e,f):new Sj(this.j,c,b);this.g.initialize()}z(Tj,M);l=Tj.prototype;l.Na=3;l.Sa=q;l.Ha=1;function Uj(a){return!a.g.pb()||3==a.Na}function Vj(a,b){b!=a.Na&&(a.Na=b,N(a,"l"))}
l.connect=function(){if(Uj(this))if(this.g.connect()){if(Vj(this,2),"none"!=this.k){var a="subscribe"+this.Ha++,b;b=$("request",Pj("subscribe",{type:this.k},a));this.sendRequest(a,b)}}else Vj(this,3)};l.Ob=function(){Vj(this,3)};l.Nb=function(a){if(!Uj(this)){a=a.d.data;var b;s(a)?b=Ra(a):b=a;if("response"==b.type){a=b.data;var c=a.id,d;d=this.d;if(d=c in d?d[c]:void 0){b=this.d;c in b&&delete b[c];m.clearTimeout(d.mb);d.dc(a.data);return}}this.Sa(b)}};
l.disconnect=function(){this.g.disconnect();Wj(this);Vj(this,3)};function Wj(a){var b=fb(a.d);eb(a.d);Ya(b,function(a){m.clearTimeout(a.mb);a.ec(4)})}l.sendRequest=function(a,b,c,d,e){var f=d||q;c=c||q;Uj(this)?f(1):(this.postMessage(b),b=-1,d&&e&&(b=O(u(this.fc,this,a,f),e)),this.d[a]={dc:c,ec:f,mb:b})};l.fc=function(a,b){delete this.d[a];b(3)};l.postMessage=function(a){Uj(this)||this.g.postMessage(a)};l.C=function(){Tj.w.C.call(this);this.disconnect();delete this.d};function Xj(a,b){A.call(this,"Insufficient disk space. required="+a+" availableBytes="+b)}z(Xj,A);new Z("d");new Z("e");var Yj=new Z("f");new Z("g");new Z("h");new Z("i");new Z("j");function Zj(a){a=a.get(Yj);this.d=ob(a,2)}function ak(a){var b=new Le;if(null!=a.d){var c=a.d;Nj(function(a,e){e>c?Qe(b):Re(b,new Xj(c,e))},function(a){Re(b,a)})}else Re(b,Error("minRequiredBytes is not set in the offline config. Cannot complete disk space check."));return b};function bk(){}bk.prototype.d={1:1,2:2,3:3,4:4,5:5,6:6,7:7};function ck(a,b){this.j=a;this.g=b;this.constructor.nb||(this.constructor.nb={});this.constructor.nb[this.toString()]=this}ck.prototype.toString=function(){this.d||(this.d=this.j.d+":"+this.g);return this.d};function dk(a,b){ck.call(this,a,b)}z(dk,ck);function ek(a){this.d=a}new ek("lib");function fk(a){J.call(this);this.g={};this.o={};this.p={};this.d={};this.A={};this.B={};this.q=a?a.q:new M;this.G=!a;this.j=null;a?(this.j=a,this.p=a.p,this.d=a.d,this.o=a.o,this.A=a.A):y();a=gk(this);this!=a&&(a.k?a.k.push(this):a.k=[this])}z(fk,J);function gk(a){for(;a.j;)a=a.j;return a}
fk.prototype.get=function(a){var b;t:{for(b=this;b;b=b.j){if(b.v)throw Error("AppContext is disposed.");if(b.g[a]){b=b.g[a][0];break t}if(b.B[a])break}if(b=this.p[a]){b=b(this);if(null==b)throw Error("Factory method for service "+a+" returned null or undefined.");hk(this,a,b)}else b=null}if(null==b)throw new ik(a);return b};function hk(a,b,c){if(a.v)K(c);else{a.g[b]=[c,!0];c=jk(a,a,b);for(var d=0;d<c.length;d++)Qe(c[d],null);delete a.o[b]}}
function jk(a,b,c){var d=[],e=a.d[c];e&&(Ga(e,function(a){var c;t:{for(c=a.bc;c;){if(c==b){c=!0;break t}c=c.j}c=!1}c&&(d.push(a.Cc),La(e,a))}),0==e.length&&delete a.d[c]);return d}function kk(a,b){a.d&&ec(a.d,function(a,d,e){Ga(a,function(d){d.bc==b&&La(a,d)});0==a.length&&delete e[d]})}
fk.prototype.C=function(){if(gk(this)==this){var a=this.k;if(a)for(;a.length;)a[0].K()}else for(var a=gk(this).k,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.g)a=this.g[c],a[1]&&"undefined"!=typeof a[0].K&&a[0].K();this.g=null;this.G&&this.q.K();kk(this,this);this.d=null;K(this.D);this.B=this.D=null;fk.w.C.call(this)};function ik(a){A.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'}z(ik,A);var lk=new ek("fva");new dk(lk,1);function mk(a){J.call(this);var b=Eb.X();this.o=new Gj(void 0,void 0,void 0,0,!0);var c=F(b,"bl");this.o.D["build-label"]=c;this.W=a.e5oswu?new Pc(a.e5oswu):null;this.G=F(b,"docs-offline-lsuid");this.zb=!!a.ecaoi;this.vb=!!a.e5oebpc;this.L=a.email||"";this.xb=a.dodn?m.location.protocol+"//"+a.dodn:"";this.N=a.ddn?m.location.protocol+"//"+a.ddn:"";this.A=!!a.coldstart;this.j=m.parent!=m?m.parent:null;this.k=m.localStorage||null;this.J=new pe(this.o);this.ha=Ki();this.g=new $i(this.G,this.o,a.dodn||
"");this.p="check";this.B=null;this.Ab=a.ooi||[];this.yb=a.optin;this.$=new Ab(a.optinconfig);this.ia=null;this.q=new Bg(this);this.q.listen(this.g,"f",this.Cb);oa||(oa=new Yh);if(this.d=this.W?new Tj(this.W,this.G,"sync"):null)a=u(this.U,this),this.d.Sa=a;this.D=0;this.Bb=Gb(b,"msfpd");this.Ga=new bk;this.H=Gb(b,"docs-bprt")}z(mk,J);l=mk.prototype;l.Ea=null;
l.initialize=function(){this.q.listen(m,"message",this.lc);try{this.g.open(u(this.nc,this),u(this.mc,this))}catch(a){this.p="out";this.B=6;var b=yc(a).message,b=Qj("error",$("db",b));this.U(b)}};
l.nc=function(){if(this.k&&!this.k.getItem("docs-ois")&&!this.k.getItem("docs-coo")){var a=this.g.ra;(a=a?P(a,"optInSecret"):null)&&this.k.setItem("docs-ois",a)}this.p="in";this.B=2;if(nk(this)){if(this.A){var a=this.g,b=u(this.Ib,this),c=a.V.d.Ua();c?xh(c,b):sg(a.V.d.j,"syncstats-"+a.d,b)}else{for(var a=this.L,b=Ji(this.ha),c=[],d=0;d<b.length;d++)b[d].email==a&&c.push(b[d]);b=(a=0<c.length)?Qj("optin",$("first_sync","")):Qj("optin","");this.U(b);this.d&&(this.d.connect(),a&&(a=this.d,b="killIfUnhealthy"+
a.Ha++,c=$("request",Pj("killIfUnhealthy","",b)),a.sendRequest(b,c),Vj(a,3)))}this.vb&&(a=m.localStorage.getItem("docs-bpst"),null!=a&&parseInt(a,10)<y()-this.H?(this.d&&(this.d.connect(),a=this.d,b="killBackgroundPage"+a.Ha++,c=$("request",Pj("killBackgroundPage","",b)),a.sendRequest(b,c)),O(u(this.ta,this,3),1E3)):this.ta(0))}else ok(this,"bad","disabled")};
l.ta=function(a){var b=m.localStorage.getItem("docs-bpst"),c=null!=b&&parseInt(b,10)<y()-this.H,b=null==b;if(!c||0==a){var d=this.G;if(oe(new pe,ke,!1)){var d=F(Eb.X(),"olbu")+"/backgroundshell#ouid="+d,e=(new Yh).d;(e.parentWindow||e.defaultView).open(d,"Docs Offline Background Page","background")}}(c||b)&&0<a&&O(u(this.ta,this,a-1),1E3)};function nk(a){return"not-effective"!=me(a.J)&&oe(a.J,le,!0)}
l.Ib=function(a){if(a)if(8==a.o){this.Ea=gf(a,"lastSyncTimestamp");this.D=0;var b;b=uh(a);b=bb(b);for(var c=0;c<b.length;c++){var d=b[c],d=uh(a)[d];(null!=d?d.count:0)<this.Bb&&this.D++}}else this.Ea=gf(a,"lastSyncedTimestamp");ok(this,"offline","offline")};
l.mc=function(a,b){if(this.k&&this.zb&&!this.k.getItem("docs-coo")){var c=this.k.getItem("docs-ois");if(c&&0<=E(this.Ab,c)){var d={};d.unsavedChanges=Lf(this.o);this.o.log(Error("IDB corruption detected, running opt-in flow.",d));this.k.removeItem("docs-ois");pk(this,2);return}}if(c=this.yb){try{d=!!m.localStorage.getItem("docs-uoo")}catch(e){d=!0}c=!d}if(c){d=this.$;d.g[1]||(c=ob(d,1))&&(d.g[1]=new zb(c));d=d.g[1];if(null!=ob(d,1)&&ob(d,1)){pk(this,5);return}if(null!=ob(d,2)&&ob(d,2)){pk(this,3);
return}}this.p="out";this.B=a;this.ia=b||null;ok(this,"bad","optout")};function pk(a,b){var c=new fk;hk(c,Yj,a.$);c=ak(new Zj(c));Se(c,w(a.vc,b),null,a)}l.vc=function(a){var b=this.g,c=u(this.kc,this,a),d=u(this.jc,this,a);a=[a];var e=b.V;if(e.g)throw Error("Called setWritable on an already writable localstore.");e.g=!0;b=new Li(b.V,c,d,a);c=Kc([],["token",b.F,"oir",b.o],void 0);c[0]="";c=c.join("");d=new xi;zd(d,"complete",u(b.p,b,d));d.send("/offline/optin?json=1","POST",c)};
l.kc=function(a){this.ta(0);2==a&&ok(this,"offline","reoptin");var b=this.Ga.d[a];a=new Cb;pb(a,1,2);pb(a,2,b);var b=new Bb,c=Db.g;Db.d?(b.g[c]=a,b.d[c]=a?a.O:a):b.d[c]=a;this.U($("syncWorkerMessageProto",b.O))};l.jc=function(){};
l.lc=function(a){var b=a.d;if((b.origin==this.xb||b.origin==this.N)&&b&&b.data&&"done"!=b.data)if(a=s(b.data)?Qa(b.data):b.data,"in"==this.p)if("swp"==a.type)switch(a.data){case "connect":this.A?ok(this,"offline","offline"):nk(this)?this.d&&this.d.connect():ok(this,"bad","disabled");break;case "disconnect":this.d&&this.d.disconnect()}else if("event"==a.type&&"optin"==a.data.type){if(a=a.data.data,"first_sync_dialog"==a.type&&"dismissed"==a.data){a=this.ha;for(var b=this.L,c=Ji(a),d=[],e=0;e<c.length;e++)c[e].email!=
b&&d.push(c[e]);a.d.setItem("optInLog",Sa(d))}}else if("request"==a.type&&"list"==a.data.type)switch(a.data.data.type){case "all":ej(this.g,u(this.Xb,this,a.data.id));break;case "details":b=this.g;a=u(this.gb,this,a.data.id);fj(b,a,u(b.hb,b));break;case "details_by_ids":b=this.g,c=u(this.gb,this,a.data.id),gj(b,a.data.data.data,c,u(b.hb,b))}else if("request"==a.type&&"docslocalstore"==a.data.type)if(b=a.data,a=b.id,b=new rb(b.data),qb(b,tb))a=u(this.ib,this,a),fj(this.g,a,Yi);else{if(b=qb(b,vb))a=
u(this.ib,this,a),gj(this.g,ob(b,1),a,Yi)}else!this.A&&nk(this)||"request"!=a.type||"status"!=a.data.type?this.d&&this.d.postMessage(b.data):(a=a.data,b=a.id,this.A?qk(this,b,"offline","offline"):qk(this,b,"bad","disabled"));else"out"==this.p&&("request"==a.type?(a=a.data,b=a.id,"status"==a.type&&qk(this,b,"bad","optout")):"swp"==a.type&&"connect"==a.data&&ok(this,"bad","optout"))};l.U=function(a){a&&this.j&&this.j.postMessage(a,this.N)};
function qk(a,b,c,d){b=$("response",Pj("status",{health:c,state:d,lastSynced:a.Ea,syncFailCount:a.D,optin:a.p},b));a.U(b)}function ok(a,b,c){b=Qj("status",{health:b,state:c,lastSynced:a.Ea,syncFailCount:a.D,optin:{state:a.p,result:a.B,email:a.ia}});a.U(b)}l.Xb=function(a,b){var c=$("response",Pj("list",b,a));this.U(c)};l.gb=function(a,b){var c=$("response",Pj("list",b,a));this.U(c)};
l.ib=function(a,b){var c=new yb,d;d=b||[];for(var e=[],f=0;f<d.length;f++)e[f]=d[f].O;c.g[1]=d;pb(c,1,e);c=$("response",Pj("docslocalstore",c.O,a));this.U(c)};l.Cb=function(a){a=Qj("initializationError",$("local_store_init_error",a.error.message));this.U(a)};l.C=function(){this.j=null;K(this.d);delete this.d;K(this.o);delete this.o;K(this.q);delete this.q;K(this.g);mk.w.C.call(this)};function _createSyncWorkerProxyApplication(a){var b=new mk(a);zd(window,"unload",function(){b.K()});b.initialize()}var rk=_createSyncWorkerProxyApplication,sk=["_createSyncWorkerProxyApplication"],tk=m;sk[0]in tk||!tk.execScript||tk.execScript("var "+sk[0]);for(var uk;sk.length&&(uk=sk.shift());)!sk.length&&n(rk)?tk[uk]=rk:tk[uk]?tk=tk[uk]:tk=tk[uk]={}; })()
